<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>Virtual Memory</title><link href='file://night/mermaid.dark.css' rel='stylesheet' type='text/css' /><link href='file://night/codeblock.dark.css' rel='stylesheet' type='text/css' /><link href='file://night/sourcemode.dark.css' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: "Lucida Console",Consolas,"Courier",monospace; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857143; overflow-x: hidden; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; tab-size: 4; background-position: inherit inherit; background-repeat: inherit inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 40px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
@media screen and (max-width: 500px) { 
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; }
button, input, select, textarea { color: inherit; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 2; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.701961); color: rgb(85, 85, 85); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px !important; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right-width: 0px; background-color: inherit; }
.CodeMirror-linenumber { }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; position: relative !important; background-position: inherit inherit; background-repeat: inherit inherit; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; background-position: 0px 0px; background-repeat: initial initial; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print { 
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid-page; break-before: avoid-page; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 32px; padding-right: 32px; padding-bottom: 0px; break-after: avoid-page; }
  .typora-export #write::after { height: 0px; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background-color: rgb(204, 204, 204); display: block; overflow-x: hidden; background-position: initial initial; background-repeat: initial initial; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) { 
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background-color: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; background-position: initial initial; background-repeat: initial initial; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; }
a.md-print-anchor { white-space: pre !important; border: none !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; text-shadow: initial !important; background-position: 0px 0px !important; background-repeat: initial initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; margin-top: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="mermaid"] svg, [lang="flow"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom-width: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
svg[id^="mermaidChart"] { line-height: 1em; }
mark { background-color: rgb(255, 255, 0); color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial; }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
mark .md-meta { color: rgb(0, 0, 0); opacity: 0.3 !important; }


/* Flowchart variables */
/* Sequence Diagram variables */
/* Gantt chart variables */
/* state colors */
.label {
  
  color: #333; }

.label text {
  fill: #333; }

.node rect,
.node circle,
.node ellipse,
.node polygon {
  fill: #BDD5EA;
  stroke: #9370DB;
  stroke-width: 1px; }

.node .label {
  text-align: center; }

.node.clickable {
  cursor: pointer; }

.arrowheadPath {
  fill: lightgrey; }

.edgePath .path {
  stroke: lightgrey;
  stroke-width: 1.5px; }

.edgeLabel {
  background-color: #e8e8e8;
  text-align: center; }

.cluster rect {
  fill: #6D6D65;
  stroke: rgba(255, 255, 255, 0.25);
  stroke-width: 1px; }

.cluster text {
  fill: #F9FFFE; }

div.mermaidTooltip {
  position: absolute;
  text-align: center;
  max-width: 200px;
  padding: 2px;
  
  font-size: 12px;
  background: #6D6D65;
  border: 1px solid rgba(255, 255, 255, 0.25);
  border-radius: 2px;
  pointer-events: none;
  z-index: 100; }

.actor {
  stroke: #81B1DB;
  fill: #BDD5EA; }

text.actor {
  fill: black;
  stroke: none; }

.actor-line {
  stroke: lightgrey; }

.messageLine0 {
  stroke-width: 1.5;
  stroke-dasharray: '2 2';
  stroke: lightgrey; }

.messageLine1 {
  stroke-width: 1.5;
  stroke-dasharray: '2 2';
  stroke: lightgrey; }

#arrowhead {
  fill: lightgrey; }

.sequenceNumber {
  fill: white; }

#sequencenumber {
  fill: lightgrey; }

#crosshead path {
  fill: lightgrey !important;
  stroke: lightgrey !important; }

.messageText {
  fill: lightgrey;
  stroke: none; }

.labelBox {
  stroke: #81B1DB;
  fill: #BDD5EA; }

.labelText {
  fill: #323D47;
  stroke: none; }

.loopText {
  fill: lightgrey;
  stroke: none; }

.loopLine {
  stroke-width: 2;
  stroke-dasharray: '2 2';
  stroke: #81B1DB; }

.note {
  stroke: rgba(255, 255, 255, 0.25);
  fill: #fff5ad; }

.noteText {
  fill: black;
  stroke: none;
  
  font-size: 14px; }

.activation0 {
  fill: #f4f4f4;
  stroke: #666; }

.activation1 {
  fill: #f4f4f4;
  stroke: #666; }

.activation2 {
  fill: #f4f4f4;
  stroke: #666; }

/** Section styling */
.section {
  stroke: none;
  opacity: 0.2; }

.section0 {
  fill: rgba(255, 255, 255, 0.3); }

.section2 {
  fill: #EAE8B9; }

.section1,
.section3 {
  fill: white;
  opacity: 0.2; }

.sectionTitle0 {
  fill: #F9FFFE; }

.sectionTitle1 {
  fill: #F9FFFE; }

.sectionTitle2 {
  fill: #F9FFFE; }

.sectionTitle3 {
  fill: #F9FFFE; }

.sectionTitle {
  text-anchor: start;
  font-size: 11px;
  text-height: 14px;
   }

/* Grid and axis */
.grid .tick {
  stroke: lightgrey;
  opacity: 0.3;
  shape-rendering: crispEdges; }

.grid path {
  stroke-width: 0; }

/* Today line */
.today {
  fill: none;
  stroke: #DB5757;
  stroke-width: 2px; }

/* Task styling */
/* Default task */
.task {
  stroke-width: 2; }

.taskText {
  text-anchor: middle;
   }

.taskText:not([font-size]) {
  font-size: 11px; }

.taskTextOutsideRight {
  fill: #323D47;
  text-anchor: start;
  font-size: 11px;
   }

.taskTextOutsideLeft {
  fill: #323D47;
  text-anchor: end;
  font-size: 11px; }

/* Special case clickable */
.task.clickable {
  cursor: pointer; }

.taskText.clickable {
  cursor: pointer;
  fill: #003163 !important;
  font-weight: bold; }

.taskTextOutsideLeft.clickable {
  cursor: pointer;
  fill: #003163 !important;
  font-weight: bold; }

.taskTextOutsideRight.clickable {
  cursor: pointer;
  fill: #003163 !important;
  font-weight: bold; }

/* Specific task settings for the sections*/
.taskText0,
.taskText1,
.taskText2,
.taskText3 {
  fill: #323D47; }

.task0,
.task1,
.task2,
.task3 {
  fill: #BDD5EA;
  stroke: rgba(255, 255, 255, 0.5); }

.taskTextOutside0,
.taskTextOutside2 {
  fill: lightgrey; }

.taskTextOutside1,
.taskTextOutside3 {
  fill: lightgrey; }

/* Active task */
.active0,
.active1,
.active2,
.active3 {
  fill: #81B1DB;
  stroke: rgba(255, 255, 255, 0.5); }

.activeText0,
.activeText1,
.activeText2,
.activeText3 {
  fill: #323D47 !important; }

/* Completed task */
.done0,
.done1,
.done2,
.done3 {
  stroke: grey;
  fill: lightgrey;
  stroke-width: 2; }

.doneText0,
.doneText1,
.doneText2,
.doneText3 {
  fill: #323D47 !important; }

/* Tasks on the critical line */
.crit0,
.crit1,
.crit2,
.crit3 {
  stroke: #E83737;
  fill: #E83737;
  stroke-width: 2; }

.activeCrit0,
.activeCrit1,
.activeCrit2,
.activeCrit3 {
  stroke: #E83737;
  fill: #81B1DB;
  stroke-width: 2; }

.doneCrit0,
.doneCrit1,
.doneCrit2,
.doneCrit3 {
  stroke: #E83737;
  fill: lightgrey;
  stroke-width: 2;
  cursor: pointer;
  shape-rendering: crispEdges; }

.milestone {
  transform: rotate(45deg) scale(0.8, 0.8); }

.milestoneText {
  font-style: italic; }

.doneCritText0,
.doneCritText1,
.doneCritText2,
.doneCritText3 {
  fill: #323D47 !important; }

.activeCritText0,
.activeCritText1,
.activeCritText2,
.activeCritText3 {
  fill: #323D47 !important; }

.titleText {
  text-anchor: middle;
  font-size: 18px;
  fill: #323D47;
   }

g.classGroup text {
  fill: #9370DB;
  stroke: none;
  
  font-size: 10px; }
  g.classGroup text .title {
    font-weight: bolder; }

g.classGroup rect {
  fill: #BDD5EA;
  stroke: #9370DB; }

g.classGroup line {
  stroke: #9370DB;
  stroke-width: 1; }

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: #BDD5EA;
  opacity: 0.5; }

.classLabel .label {
  fill: #9370DB;
  font-size: 10px; }

.relation {
  stroke: #9370DB;
  stroke-width: 1;
  fill: none; }

#compositionStart {
  fill: #9370DB;
  stroke: #9370DB;
  stroke-width: 1; }

#compositionEnd {
  fill: #9370DB;
  stroke: #9370DB;
  stroke-width: 1; }

#aggregationStart {
  fill: #BDD5EA;
  stroke: #9370DB;
  stroke-width: 1; }

#aggregationEnd {
  fill: #BDD5EA;
  stroke: #9370DB;
  stroke-width: 1; }

#dependencyStart {
  fill: #9370DB;
  stroke: #9370DB;
  stroke-width: 1; }

#dependencyEnd {
  fill: #9370DB;
  stroke: #9370DB;
  stroke-width: 1; }

#extensionStart {
  fill: #9370DB;
  stroke: #9370DB;
  stroke-width: 1; }

#extensionEnd {
  fill: #9370DB;
  stroke: #9370DB;
  stroke-width: 1; }

.commit-id,
.commit-msg,
.branch-label {
  fill: lightgrey;
  color: lightgrey;
   }

.pieTitleText {
  text-anchor: middle;
  font-size: 25px;
  fill: #323D47;
   }

.slice {
   }

g.stateGroup text {
  fill: #eee;
  stroke: none;
  font-size: 10px;
   }

g.stateGroup circle {
  fill: white !important;
  stroke: white !important;
}

g.stateGroup .state-title {
  font-weight: bolder;
  fill: black; }

g.stateGroup rect {
  fill: #ececff;
  stroke: #9370DB; }

g.stateGroup line {
  stroke: #9370DB;
  stroke-width: 1; }

.transition {
  stroke: #9370DB;
  stroke-width: 1;
  fill: none; }

.stateGroup .composit {
  fill: #555;
  border-bottom: 1px; }

.state-note {
  stroke: rgba(255, 255, 255, 0.25);
  fill: #fff5ad; }
  .state-note text {
    fill: black;
    stroke: none;
    font-size: 10px; }

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: #BDD5EA;
  opacity: 0.5; }

.stateLabel text {
  fill: black;
  font-size: 10px;
  font-weight: bold;
   }

;
/* CSS Document */

/** code highlight */

.cm-s-inner .cm-variable,
.cm-s-inner .cm-operator,
.cm-s-inner .cm-property {
    color: #b8bfc6;
}

.cm-s-inner .cm-keyword {
    color: #C88FD0;
}

.cm-s-inner .cm-tag {
    color: #7DF46A;
}

.cm-s-inner .cm-attribute {
    color: #7575E4;
}

.CodeMirror div.CodeMirror-cursor {
    border-left: 1px solid #b8bfc6;
    z-index: 3;
}

.cm-s-inner .cm-string {
    color: #D26B6B;
}

.cm-s-inner .cm-comment,
.cm-s-inner.cm-comment {
    color: #DA924A;
}

.cm-s-inner .cm-header,
.cm-s-inner .cm-def,
.cm-s-inner.cm-header,
.cm-s-inner.cm-def {
    color: #8d8df0;
}

.cm-s-inner .cm-quote,
.cm-s-inner.cm-quote {
    color: #57ac57;
}

.cm-s-inner .cm-hr {
    color: #d8d5d5;
}

.cm-s-inner .cm-link {
    color: #d3d3ef;
}

.cm-s-inner .cm-negative {
    color: #d95050;
}

.cm-s-inner .cm-positive {
    color: #50e650;
}

.cm-s-inner .cm-string-2 {
    color: #f50;
}

.cm-s-inner .cm-meta,
.cm-s-inner .cm-qualifier {
    color: #b7b3b3;
}

.cm-s-inner .cm-builtin {
    color: #f3b3f8;
}

.cm-s-inner .cm-bracket {
    color: #997;
}

.cm-s-inner .cm-atom,
.cm-s-inner.cm-atom {
    color: #84B6CB;
}

.cm-s-inner .cm-number {
    color: #64AB8F;
}

.cm-s-inner .cm-variable {
    color: #b8bfc6;
}

.cm-s-inner .cm-variable-2 {
    color: #9FBAD5;
}

.cm-s-inner .cm-variable-3 {
    color: #1cc685;
}

.CodeMirror-selectedtext,
.CodeMirror-selected {
    background: #4a89dc;
    color: #fff !important;
    text-shadow: none;
}

.CodeMirror-gutters {
    border-right: none;
}
;
/* CSS Document */

/** markdown source **/
.cm-s-typora-default .cm-header, 
.cm-s-typora-default .cm-property
{
    color: #cebcca;
}

.CodeMirror.cm-s-typora-default div.CodeMirror-cursor{
    border-left: 3px solid #b8bfc6;
}

.cm-s-typora-default .cm-comment {
    color: #9FB1FF;
}

.cm-s-typora-default .cm-string {
    color: #A7A7D9
}

.cm-s-typora-default .cm-atom, .cm-s-typora-default .cm-number {
    color: #848695;
    font-style: italic;
}

.cm-s-typora-default .cm-link {
    color: #95B94B;
}

.cm-s-typora-default .CodeMirror-activeline-background {
    background: rgba(51, 51, 51, 0.72);
}

.cm-s-typora-default .cm-comment, .cm-s-typora-default .cm-code {
	color: #8aa1e1;
}@import "";
@import "";
@import "";

:root {
    --bg-color:  #363B40;
    --side-bar-bg-color: #2E3033;
    --text-color: #b8bfc6;

    --select-text-bg-color:#4a89dc;

    --item-hover-bg-color: #0a0d16;
    --control-text-color: #b7b7b7;
    --control-text-hover-color: #eee;
    --window-border: 1px solid #555;

    --active-file-bg-color: rgb(34, 34, 34);
    --active-file-border-color: #8d8df0;

    --primary-color: #a3d5fe;

    --active-file-text-color: white;
    --item-hover-bg-color: #70717d;
    --item-hover-text-color: white;
    --primary-color: #6dc1e7;

    --rawblock-edit-panel-bd: #333;

    --search-select-bg-color: #428bca;
}

html {
    font-size: 16px;
}

html,
body {
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    background: #363B40;
    background: var(--bg-color);
    fill: currentColor;
    line-height: 1.625rem;
}

#write {
    max-width: 914px;
}

html,
body,
button,
input,
select,
textarea,
div.code-tooltip-content {
    color: #b8bfc6;
    border-color: transparent;
}

div.code-tooltip,
.md-hover-tip .md-arrow:after {
    background: #333;
}

.popover.bottom > .arrow:after {
    border-bottom-color: #333;
}

html,
body,
button,
input,
select,
textarea {
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}

hr {
    height: 2px;
    border: 0;
    margin: 24px 0 !important;
}

h1,
h2,
h3,
h4,
h5,
h6 {
    font-family: "Lucida Grande", "Corbel", sans-serif;
    font-weight: normal;
    clear: both;
    -ms-word-wrap: break-word;
    word-wrap: break-word;
    margin: 0;
    padding: 0;
    color: #DEDEDE
}

h1 {
    font-size: 2.5rem;
    /* 36px */
    line-height: 2.75rem;
    /* 40px */
    margin-bottom: 1.5rem;
    /* 24px */
    letter-spacing: -1.5px;
}

h2 {
    font-size: 1.73rem;
    /* 24px */
    line-height: 1.875rem;
    /* 30px */
    margin-bottom: 1.5rem;
    /* 24px */
    letter-spacing: -1px;
    font-weight: bold;
    color: #00CACA;
}

h3 {
    font-size: 1.3rem;
    /* 18px */
    line-height: 1.5rem;
    /* 24px */
    margin-bottom: 1.5rem;
    /* 24px */
    letter-spacing: -1px;
    font-weight: bold;
    color: #BE77FF;
}

h4 {
    font-size: 1.12rem;
    /* 16px */
    line-height: 1.375rem;
    /* 22px */
    margin-bottom: 1.5rem;
    /* 24px */
    color: #FF95CA;
}

h5 {
    font-size: 0.97rem;
    /* 16px */
    line-height: 1.25rem;
    /* 22px */
    margin-bottom: 1.5rem;
    /* 24px */
    font-weight: bold;
}

h6 {
    font-size: 0.93rem;
    /* 16px */
    line-height: 1rem;
    /* 16px */
    margin-bottom: 0.75rem;
    color: white;
}

@media (min-width: 980px) {
    h3.md-focus:before,
    h4.md-focus:before,
    h5.md-focus:before,
    h6.md-focus:before {
        color: #ddd;
        border: 1px solid #ddd;
        border-radius: 3px;
        position: absolute;
        left: -1.642857143rem;
        top: .357142857rem;
        float: left;
        font-size: 9px;
        padding-left: 2px;
        padding-right: 2px;
        vertical-align: bottom;
        font-weight: normal;
        line-height: normal;
    }

    h3.md-focus:before {
        content: 'h3';
    }

    h4.md-focus:before {
        content: 'h4';
    }

    h5.md-focus:before {
        content: 'h5';
        top: 0px;
    }

    h6.md-focus:before {
        content: 'h6';
        top: 0px;
    }
}

a {
    text-decoration: none;
    outline: 0;
}

a:hover {
    outline: 0;
}

a:focus {
    outline: thin dotted;
}

sup.md-footnote {
    background-color: #555;
    color: #ddd;
}

p {
    -ms-word-wrap: break-word;
    word-wrap: break-word;
}

p,
ul,
dd,
ol,
hr,
address,
pre,
table,
iframe,
.wp-caption,
.wp-audio-shortcode,
.wp-video-shortcode {
    margin-top: 0;
    margin-bottom: 1.5rem;
    /* 24px */
}

li > blockquote {
	margin-bottom: 0;
}

audio:not([controls]) {
    display: none;
}

[hidden] {
    display: none;
}

::-moz-selection {
    background: #4a89dc;
    color: #fff;
    text-shadow: none;
}

*.in-text-selection,
::selection {
    background: #4a89dc;
    color: #fff;
    text-shadow: none;
}

ul,
ol {
    padding: 0 0 0 1.875rem;
    /* 30px */
}

ul {
    list-style: square;
}

ol {
    list-style: decimal;
}

ul ul,
ol ol,
ul ol,
ol ul {
    margin: 0;
}

b,
th,
dt,
strong {
    font-weight: bold;
}

i,
em,
dfn,
cite {
    font-style: italic;
}

blockquote {
    padding-left: 1.875rem;
    margin: 0 0 1.875rem 1.875rem;
    border-left: solid 2px #474d54;
    padding-left: 30px;
    margin-top: 35px;
}

pre,
code,
kbd,
tt,
var {
    background: rgba(0, 0, 0, 0.05);
    font-size: 0.875rem;
    font-family: Monaco, Consolas, "Andale Mono", "DejaVu Sans Mono", monospace;
}

kbd {
    padding: 2px 4px;
    font-size: 90%;
    color: #fff;
    background-color: #333;
    border-radius: 3px;
    box-shadow: inset 0 -1px 0 rgba(0,0,0,.25);
}

pre.md-fences {
    padding: 10px 10px 10px 30px;
    margin-bottom: 20px;
    background: #333;
}

.CodeMirror-gutters {
    background: #333;
    border-right: 1px solid transparent;
}

.enable-diagrams pre.md-fences[lang="sequence"] .code-tooltip,
.enable-diagrams pre.md-fences[lang="flow"] .code-tooltip,
.enable-diagrams pre.md-fences[lang="mermaid"] .code-tooltip {
    bottom: -2.2em;
    right: 4px;
}

code,
kbd,
tt,
var {
    padding: 2px 5px;
}

table {
    max-width: 100%;
    width: 100%;
    border-collapse: collapse;
    border-spacing: 0;
}

th,
td {
    padding: 5px 10px;
    vertical-align: top;
}

a {
    -webkit-transition: all .2s ease-in-out;
    transition: all .2s ease-in-out;
}

hr {
    background: #474d54;
    /* variable */
}

h1 {
    margin-top: 2em;
}

a {
    color: #e0e0e0;
    text-decoration: underline;
}

a:hover {
    color: #fff;
}

.md-inline-math script {
    color: #81b1db;
}

b,
th,
dt,
strong {
    color: #DEDEDE;
    /* variable */
}

mark {
    background: #D3D40E;
}

blockquote {
    color: #9DA2A6;
}

table a {
    color: #DEDEDE;
    /* variable */
}

th,
td {
    border: solid 1px #474d54;
    /* variable */
}

.task-list {
    padding-left: 0;
}

.md-task-list-item {
    padding-left: 1.25rem;
}

.md-task-list-item > input {
    top: auto;
}

.md-task-list-item > input:before {
    content: "";
    display: inline-block;
    width: 0.875rem;
    height: 0.875rem;
    vertical-align: middle;
    text-align: center;
    border: 1px solid #b8bfc6;
    background-color: #363B40;
    margin-top: -0.4rem;
}

.md-task-list-item > input:checked:before,
.md-task-list-item > input[checked]:before {
    content: '\221A';
    /*◘*/
    font-size: 0.625rem;
    line-height: 0.625rem;
    color: #DEDEDE;
}

/** quick open **/
.auto-suggest-container {
    border: 0px;
    background-color: #525C65;
}

#typora-quick-open {
    background-color: #525C65;
}

#typora-quick-open input{
    background-color: #525C65;
    border: 0;
    border-bottom: 1px solid grey;
}

.typora-quick-open-item {
    background-color: inherit;
    color: inherit;
}

.typora-quick-open-item.active,
.typora-quick-open-item:hover {
    background-color: #4D8BDB;
    color: white;
}

.typora-quick-open-item:hover {
    background-color: rgba(77, 139, 219, 0.8);
}

.typora-search-spinner > div {
  background-color: #fff;
}

#write pre.md-meta-block {
    border-bottom: 1px dashed #ccc;
    background: transparent;
    padding-bottom: 0.6em;
    line-height: 1.6em;
}

.btn,
.btn .btn-default {
    background: transparent;
    color: #b8bfc6;
}

.ty-table-edit {
    border-top: 1px solid gray;
    background-color: #363B40;
}

.popover-title {
    background: transparent;
}

.md-image>.md-meta {
    color: #BBBBBB;
    background: transparent;
}

.md-expand.md-image>.md-meta {
    color: #DDD;
}

#write>h3:before,
#write>h4:before,
#write>h5:before,
#write>h6:before {
    border: none;
    border-radius: 0px;
    color: #888;
    text-decoration: underline;
    left: -1.4rem;
    top: 0.2rem;
}

#write>h3.md-focus:before {
    top: 2px;
}

#write>h4.md-focus:before {
    top: 2px;
}

.md-toc-item {
    color: #A8C2DC;
}

#write div.md-toc-tooltip {
    background-color: #363B40;
}

.dropdown-menu .btn:hover,
.dropdown-menu .btn:focus,
.md-toc .btn:hover,
.md-toc .btn:focus {
    color: white;
    background: black;
}

#toc-dropmenu {
    background: rgba(50, 54, 59, 0.93);
    border: 1px solid rgba(253, 253, 253, 0.15);
}

#toc-dropmenu .divider {
    background-color: #9b9b9b;
}

.outline-expander:before {
    top: 2px;
}

#typora-sidebar {
    box-shadow: none;
    border-right: 1px dashed;
    border-right: none;
}

.sidebar-tabs {
    border-bottom:0;
}

#typora-sidebar:hover .outline-title-wrapper {
    border-left: 1px dashed;
}

.outline-title-wrapper .btn {
    color: inherit;
}

.outline-item:hover {
    border-color: #363B40;
    background-color: #363B40;
    color: white;
}

h1.md-focus .md-attr,
h2.md-focus .md-attr,
h3.md-focus .md-attr,
h4.md-focus .md-attr,
h5.md-focus .md-attr,
h6.md-focus .md-attr,
.md-header-span .md-attr {
    color: #8C8E92;
    display: inline;
}

.md-comment {
    color: #5a95e3;
    opacity: 1;
}

.md-inline-math svg {
    color: #b8bfc6;
}

#math-inline-preview .md-arrow:after {
    background: black;
}

.modal-content {
    background: var(--bg-color);
    border: 0;
}

.modal-title {
    font-size: 1.5em;
}

.modal-content input {
    background-color: rgba(26, 21, 21, 0.51);
    color: white;
}

.modal-content .input-group-addon {
    color: white;
}

.modal-backdrop {
    background-color: rgba(174, 174, 174, 0.7);
}

.modal-content .btn-primary {
    border-color: var(--primary-color);
}

.md-table-resize-popover {
    background-color: #333;
}

.form-inline .input-group .input-group-addon {
    color: white;
}

#md-searchpanel {
    border-bottom: 1px dashed grey;
}

/** UI for electron */

.context-menu,
#spell-check-panel,
#footer-word-count-info {
    background-color: #42464A;
}

.context-menu.dropdown-menu .divider,
.dropdown-menu .divider {
    background-color: #777777;
}

footer {
    color: inherit;
}

@media (max-width: 1000px) {
    footer {
        border-top: none;
    }
    footer:hover {
        color: inherit;
    }
}

#file-info-file-path .file-info-field-value:hover {
    background-color: #555;
    color: #dedede;
}

.megamenu-content,
.megamenu-opened header {
    background: var(--bg-color);
}

.megamenu-menu-panel h2,
.megamenu-menu-panel h1,
.long-btn {
    color: inherit;
}

.megamenu-menu-panel input[type='text'] {
    background: inherit;
    border: 0;
    border-bottom: 1px solid;
}

#recent-file-panel-action-btn {
    background: inherit;
    border: 1px grey solid;
}

.megamenu-menu-panel .dropdown-menu > li > a {
    color: inherit;
    background-color: #2F353A;
    text-decoration: none;
}

.megamenu-menu-panel table td:nth-child(1) {
    color: inherit;
    font-weight: bold;
}

.megamenu-menu-panel tbody tr:hover td:nth-child(1) {
    color: white;
}

.modal-footer .btn-default, 
.modal-footer .btn-primary,
.modal-footer .btn-default:not(:hover) {
    border: 1px solid;
    border-color: transparent;
}

.btn-default:hover, .btn-default:focus, .btn-default.focus, .btn-default:active, .btn-default.active, .open > .dropdown-toggle.btn-default {
    color: white;
    border: 1px solid #ddd;
    background-color: inherit;
}

.modal-header {
    border-bottom: 0;
}

.modal-footer {
    border-top: 0;
}

#recent-file-panel tbody tr:nth-child(2n-1) {
    background-color: transparent !important;
}

.megamenu-menu-panel tbody tr:hover td:nth-child(2) {
    color: inherit;
}

.megamenu-menu-panel .btn {
    border: 1px solid #eee;
    background: transparent;
}

.mouse-hover .toolbar-icon.btn:hover,
#w-full.mouse-hover,
#w-pin.mouse-hover {
    background-color: inherit;
}

.typora-node::-webkit-scrollbar {
    width: 5px;
}

.typora-node::-webkit-scrollbar-thumb:vertical {
    background: rgba(250, 250, 250, 0.3);
}

.typora-node::-webkit-scrollbar-thumb:vertical:active {
    background: rgba(250, 250, 250, 0.5);
}

#w-unpin {
    background-color: #4182c4;
}

#top-titlebar, #top-titlebar * {
    color: var(--item-hover-text-color);
}

.typora-sourceview-on #toggle-sourceview-btn,
#footer-word-count:hover,
.ty-show-word-count #footer-word-count {
    background: #333333;
}

#toggle-sourceview-btn:hover {
    color: #eee;
    background: #333333;
}

/** focus mode */
.on-focus-mode .md-end-block:not(.md-focus):not(.md-focus-container) * {
    color: #686868 !important;
}

.on-focus-mode .md-end-block:not(.md-focus) img,
.on-focus-mode .md-task-list-item:not(.md-focus-container)>input {
    opacity: #686868 !important;
}

.on-focus-mode li[cid]:not(.md-focus-container){
    color: #686868;
}

.on-focus-mode .md-fences.md-focus .CodeMirror-code>*:not(.CodeMirror-activeline) *,
.on-focus-mode .CodeMirror.cm-s-inner:not(.CodeMirror-focused) * {
    color: #686868 !important;
}

.on-focus-mode .md-focus,
.on-focus-mode .md-focus-container {
    color: #fff;
}

.on-focus-mode #typora-source .CodeMirror-code>*:not(.CodeMirror-activeline) * {
    color: #686868 !important;
}


/*diagrams*/
#write .md-focus .md-diagram-panel {
    border: 1px solid #ddd;
    margin-left: -1px;
    width: calc(100% + 2px);
}

/*diagrams*/
#write .md-focus.md-fences-with-lineno .md-diagram-panel {
    margin-left: auto;
}

.md-diagram-panel-error {
    color: #f1908e;
}

.active-tab-files #info-panel-tab-file,
.active-tab-files #info-panel-tab-file:hover,
.active-tab-outline #info-panel-tab-outline,
.active-tab-outline #info-panel-tab-outline:hover {
    color: #eee;
}

.sidebar-footer-item:hover,
.footer-item:hover {
    background: inherit;
    color: white;
}

.ty-side-sort-btn.active,
.ty-side-sort-btn:hover,
.selected-folder-menu-item a:after {
    color: white;
}

#sidebar-files-menu {
    border:solid 1px;
    box-shadow: 4px 4px 20px rgba(0, 0, 0, 0.79);
    background-color: var(--bg-color);
}

.file-list-item {
    border-bottom:none;
}

.file-list-item-summary {
    opacity: 1;
}

.file-list-item.active:first-child {
    border-top: none;
}

.file-node-background {
    height: 32px;
}

.file-library-node.active>.file-node-content,
.file-list-item.active {
    color: white;
    color: var(--active-file-text-color);
}

.file-library-node.active>.file-node-background{
    background-color: rgb(34, 34, 34);
    background-color: var(--active-file-bg-color);
}
.file-list-item.active {
    background-color: rgb(34, 34, 34);
    background-color: var(--active-file-bg-color);
}

#ty-tooltip {
    background-color: black;
    color: #eee;
}

.md-task-list-item>input {
    margin-left: -1.3em;
    margin-top: 0.3rem;
    -webkit-appearance: none;
}

.md-mathjax-midline {
    background-color: #57616b;
    border-bottom: none;
}

footer.ty-footer {
    border-color: #656565;
}

.ty-preferences .btn-default {
    background: transparent;
}
.ty-preferences .btn-default:hover {
    background: #57616b;
}

.ty-preferences select {
    border: 1px solid #989698;
    height: 21px;
}

.ty-preferences .nav-group-item.active {
    background: var(--item-hover-bg-color);
}

.ty-preferences input[type="search"] {
    border-color: #333;
    background: #333;
    line-height: 22px;
    border-radius: 6px;
    color: white;
}

.ty-preferences input[type="search"]:focus {
    box-shadow: none;
}

[data-is-directory="true"] .file-node-content {
    margin-bottom: 0;
}

.file-node-title {
    line-height: 22px;
}

.html-for-mac .file-node-open-state, .html-for-mac .file-node-icon {
    line-height: 26px;
}

::-webkit-scrollbar-thumb {
    background: rgba(230, 230, 230, 0.30);
}

::-webkit-scrollbar-thumb:active {
    background: rgba(230, 230, 230, 0.50);
}

#typora-sidebar:hover div.sidebar-content-content::-webkit-scrollbar-thumb:horizontal {
    background: rgba(230, 230, 230, 0.30);
}

.nav-group-item:active {
    background-color: #474d54;
}

.md-search-hit {
    background: rgba(199, 140, 60, 0.81);
    color: #eee;
}

.md-search-hit * {
    color: #eee;
}

#md-searchpanel input {
    color: white;
}


</style>
</head>
<body class='typora-export' >
<div  id='write'  class = 'is-mac'><h2><a name="virtual-memory" class="md-header-anchor"></a><span>Virtual Memory</span></h2><hr /><div class='md-toc' mdtype='toc'><p class="md-toc-content" role="list"><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n29449"><a class="md-toc-inner" style="" href="#virtual-memory">Virtual Memory</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n29454"><a class="md-toc-inner" style="" href="#what-is-virtual-memory">What Is Virtual Memory</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n29459"><a class="md-toc-inner" style="" href="#program-memory-abstraction">Program Memory Abstraction</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n29532"><a class="md-toc-inner" style="" href="#goal">Goal</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n29563"><a class="md-toc-inner" style="" href="#requirement">Requirement</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n29604"><a class="md-toc-inner" style="" href="#policy-decision">Policy Decision</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n29650"><a class="md-toc-inner" style="" href="#from-physical-to-virtual">From Physical To Virtual</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n29654"><a class="md-toc-inner" style="" href="#partitioning">Partitioning</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n29785"><a class="md-toc-inner" style="" href="#address-binding">Address Binding</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n29840"><a class="md-toc-inner" style="" href="#paging">Paging</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n29990"><a class="md-toc-inner" style="" href="#page-table">Page Table</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n30002"><a class="md-toc-inner" style="" href="#page-table-entry">Page Table Entry</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n30109"><a class="md-toc-inner" style="" href="#multi-level-page-table">Multi-Level Page Table</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n30188"><a class="md-toc-inner" style="" href="#tlb">TLB</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n30231"><a class="md-toc-inner" style="" href="#manage-tlb">Manage TLB</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n30304"><a class="md-toc-inner" style="" href="#demand-paging">Demand Paging</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n30428"><a class="md-toc-inner" style="" href="#page-fault">Page Fault</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n30494"><a class="md-toc-inner" style="" href="#page-replacement-algorithm">Page Replacement Algorithm</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n30501"><a class="md-toc-inner" style="" href="#page-replacement-policy">Page Replacement Policy</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n30563"><a class="md-toc-inner" style="" href="#beladys-algorithm">Belady's Algorithm</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n30602"><a class="md-toc-inner" style="" href="#fifo">FIFO</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n30750"><a class="md-toc-inner" style="" href="#lru">LRU</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n30963"><a class="md-toc-inner" style="" href="#second-chance-algorithm--clock">Second Chance Algorithm / CLOCK</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n31055"><a class="md-toc-inner" style="" href="#counting-based-replacement">Counting-Based Replacement</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n31081"><a class="md-toc-inner" style="" href="#page-buffering">Page Buffering</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n31111"><a class="md-toc-inner" style="" href="#memory-allocation-usage-implementation">Memory Allocation Usage Implementation </a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n31114"><a class="md-toc-inner" style="" href="#fixed-vs-variable-space-allocation">Fixed VS Variable Space Allocation</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n31152"><a class="md-toc-inner" style="" href="#working-set-of-a-process">Working Set Of A Process</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n31333"><a class="md-toc-inner" style="" href="#advanced-functionality-using-vm-tricks">Advanced Functionality Using VM Tricks</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n31337"><a class="md-toc-inner" style="" href="#sharing-memory">Sharing Memory</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n31454"><a class="md-toc-inner" style="" href="#copy-on-write">Copy On Write</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n31558"><a class="md-toc-inner" style="" href="#memory-mapped-files">Memory Mapped Files</a></span></p></div><hr /><h3><a name="what-is-virtual-memory" class="md-header-anchor"></a><span>What Is Virtual Memory</span></h3><blockquote><p><span>MMU == Memory Management Unit</span></p><p><span>SP == Stack Pointer</span></p><p><span>PC == Program Counter</span></p></blockquote><h4><a name="program-memory-abstraction" class="md-header-anchor"></a><span>Program Memory Abstraction</span></h4><ul><li><p><span>Definition</span></p><ul><li><span>Virual/Logical Address Space</span></li></ul></li><li><p><span>Generator</span></p><ul><li><span>CPU generates logical/virtual address when program executes</span></li></ul></li><li><p><span>Requirment</span></p><ul><li><p><span>Memory system must see physical address</span></p><ul><li><span>Need Translation done by MMU</span></li></ul></li></ul></li><li><p><span>Layout</span></p><ul><li><figure><table><thead><tr><th><span>0xFFFF FFFF</span></th><th style='text-align:center;' >&nbsp;</th><th>&nbsp;</th></tr></thead><tbody><tr><td><span>System Address</span></td><td style='text-align:center;' ><span>OS Code + Data</span></td><td>&nbsp;</td></tr><tr><td><span>0x8000 0000</span></td><td style='text-align:center;' >&nbsp;</td><td>&nbsp;</td></tr><tr><td><span>0X7FFF FFFF</span></td><td style='text-align:center;' >&nbsp;</td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td style='text-align:center;' ><span>Stack</span></td><td>&leftarrow;<span> SP</span></td></tr><tr><td>&nbsp;</td><td style='text-align:center;' >&nbsp;</td><td>&leftarrow;<span> Break</span></td></tr><tr><td><span>User Address</span></td><td style='text-align:center;' ><span>Heap / Dynamic Memory Allocation</span></td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td style='text-align:center;' ><span>Static Data Segment</span></td><td>&nbsp;</td></tr><tr><td>&nbsp;</td><td style='text-align:center;' ><span>Code / Text Segment</span></td><td>&leftarrow;<span> PC</span></td></tr><tr><td><span>0x0000 0000</span></td><td style='text-align:center;' >&nbsp;</td><td>&nbsp;</td></tr></tbody></table></figure></li></ul></li><li><p><span>Recall Memory Hirachy</span></p><ul><li><p><span>Larger + Cheaper + Slower</span></p><ul><li><span>Register </span>&rightarrow;<span> CPU ( within LV1 Cache) </span>&rightarrow;<span> LV2/LV3 Cache </span>&rightarrow;<span> Main Memory / DRAM </span>&rightarrow;<span> Disk</span></li></ul></li></ul></li></ul><h4><a name="goal" class="md-header-anchor"></a><span>Goal</span></h4><ul><li><p><span>Transparency</span></p><ul><li><span>a program should not need to know how memory is virtualized</span></li><li><span>each program has the illusion of using all of physical memory</span></li></ul></li><li><p><span>Efficiency</span></p><ul><li><p><span>Time</span></p><ul><li><span>program shouldn&#39;t run much more slowly</span></li></ul></li><li><p><span>Space</span></p><ul><li><span>minimize the size of structure</span></li></ul></li></ul></li><li><p><span>Protection</span></p><ul><li><p><span>Isolation</span></p><ul><li><span>a process should not be able to access another processes memory</span></li></ul></li></ul></li></ul><p>&nbsp;</p><h4><a name="requirement" class="md-header-anchor"></a><span>Requirement</span></h4><ul><li><p><span>Relocation</span></p><ul><li><span>programmers don&#39;t know what physical men will be available</span></li><li><span>may swap processes in/out of memory so need to bring back to different region of mem</span></li><li><span>need address translation</span></li></ul></li><li><p><span>Protection</span></p><ul><li><span>a process&#39;s mem should be protected from unwanted access by other process</span></li><li><span>require hardware support</span></li></ul></li><li><p><span>Sharing</span></p><ul><li><span>process need to be able to access the same memory</span></li><li><span>need ways to specify and control whar sharing is allowed</span></li></ul></li><li><p><span>Logical Organization</span></p><ul><li><span>Machine accesses/addresses memory as a 1D arrat of bytes</span></li><li><span>programmer organizae codes in modules</span></li><li><span>need to map between these views</span></li></ul></li><li><p><span>Physical organization</span></p><ul><li><span>Mem and Disk form a 2-level hierachey</span></li><li><span>CPU can only access data in register or memory not disk</span></li></ul></li></ul><h4><a name="policy-decision" class="md-header-anchor"></a><span>Policy Decision</span></h4><ul><li><p><span>mechanism Precondition</span></p><ul><li><span>PT</span></li><li><span>MMU</span></li><li><span>TLB</span></li></ul></li><li><p><span>Policy Precondition</span></p><ul><li><p><span>Fetch Policy</span></p><ul><li><span>when to fetch a page</span></li><li><span>Demand paging VS Prepaging</span></li></ul></li><li><p><span>Placement Policy</span></p><ul><li><p><span>where to put the page</span></p></li><li><p><span>Mem / Disk</span></p><ul><li><p><span>Memory management HW can translate any virtual-to-physical mapping equally well</span></p></li><li><p><span>always prefer mapping</span></p><ul><li><span>local memory is faster </span></li></ul></li><li><p><span>Except: cache performance </span></p><ul><li><span>choose physcical pages to minimize cache conflicts </span></li></ul></li></ul></li></ul></li><li><p><span>Replacement Policy</span></p><ul><li><span>what page to evict to make room</span></li></ul></li></ul></li></ul><h3><a name="from-physical-to-virtual" class="md-header-anchor"></a><span>From Physical To Virtual</span></h3><blockquote><p><span>PTBR == Page Table Base Register</span></p><p><span>coalesce [联合]</span></p></blockquote><h4><a name="partitioning" class="md-header-anchor"></a><span>Partitioning</span></h4><ul><li><p><span>Contiguous Allocation</span></p></li><li><p><span>Idea</span></p><ul><li><p><span>Fixed Equal-Slice Partition</span></p><ul><li><span>internal fragmentation</span></li><li><span>overlay</span></li><li><span>limit the number of active process</span></li></ul></li><li><p><span>Fixed Increased-Size-Slice Partition</span></p><ul><li><span>overlay</span></li></ul></li><li><p><span>Dynamic Partition</span></p><ul><li><span>external fragmentation</span></li><li><span>need compaction</span></li><li><span>require relocatable</span></li><li><span>need to know maximum size of process at load time</span></li></ul></li></ul></li><li><p><span>Placement Heuristics</span></p><ul><li><p><span>First-fit</span></p><ul><li><p><span>algorithm idea</span></p><ul><li><span>choose the first block that is large enough</span></li><li><span>search can start at beginning or where previous search ended /Next-fit</span></li></ul></li></ul></li><li><p><span>Pro</span></p><ul><li><p><span>Simplest and often fastest and most efficient </span></p></li><li><p><span>Con</span></p><ul><li><span>internal fragmentation</span></li></ul></li><li><p><span>free space becomes fragmented more rapidly</span></p><ul><li><span>since next-fit variant allocate from end of memory</span></li></ul></li></ul></li><li><p><span>Best-fit</span></p></li><li><p><span>algorithm idea</span></p><ul><li><span>choose the block that is closest in size to the request</span></li></ul></li><li><p><span>Pro</span></p><ul><li><p><span>Left-over fragment tend to be small</span></p></li><li><p><span>Con</span></p><ul><li><span>similar storage utilization with FF</span></li></ul></li></ul></li><li><p><span>Worst-fit</span></p><ul><li><p><span>algorithm idea</span></p><ul><li><span>choose the largest block</span></li></ul></li></ul></li><li><p><span>Con</span></p><ul><li><span>Not good</span></li></ul></li><li><p><span>Quick-fit</span></p><ul><li><p><span>algorithm idea</span></p><ul><li><span>keep multiple free lists for common block size</span></li></ul></li><li><p><span>Pro</span></p><ul><li><span>great for fast allocation</span></li></ul></li><li><p><span>Con</span></p><ul><li><span>generally harder to coalesce</span></li></ul></li></ul></li></ul></li><li><p><span>Hardware for Relocation Requirement </span></p><ul><li><p><span>Basic Idea</span></p><ul><li><span>add relative addr to the process starting/base addr to form a real addr</span></li></ul></li><li><p><span>2 reg</span></p><ul><li><span>base</span></li><li><span>limit</span></li><li><span>when process assigned to CPU </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> load base register with the starting addr</span></li><li><span>load the limit register with the last legal address of process</span></li><li><span>on load or store </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> add base to addr and compare with the limit</span></li><li><span>if (addr &lt; base || addr &gt;= base +limit ) : trap</span></li></ul></li></ul></li></ul><h4><a name="address-binding" class="md-header-anchor"></a><span>Address Binding</span></h4><ul><li><p><span>Cause</span></p><ul><li><p><span>Programs must be in memory to execute</span></p><ul><li><span>Program binary is loaded into a process address space</span></li><li><span>Address in program must be translated to real address</span></li></ul></li></ul></li><li><p><span>When to address bound</span></p><ul><li><p><span>option 1: Complie Time</span></p><ul><li><span>must know what memory the process will use during compilation</span></li><li><span>call absolute code since binary contains real address</span></li><li><span>no relocation is possible</span></li><li><span>still used in simple embedded system</span></li></ul></li><li><p><span>option 2: Load Time</span></p><ul><li><span>aka Static Relocation</span></li></ul><ol start='' ><li><p><span>Compiler bind symbolic addr </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.582ex" viewBox="0 -574.9 1000 681.1" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E4-MJMAIN-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E4-MJMAIN-2192" x="0" y="0"></use></g></svg></span><script type="math/tex">\to</script><span> logical-relocatable addr in compilation unit / source file</span></p></li><li><p><span>Linker take source file and bind logical/relocatable addr </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.582ex" viewBox="0 -574.9 1000 681.1" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E4-MJMAIN-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E4-MJMAIN-2192" x="0" y="0"></use></g></svg></span><script type="math/tex">\to</script><span> logical-absolute addr in executable</span></p><ul><li><span>resolve reference to symbol dedinded in source file</span></li></ul></li><li><p><span>Loader bind logical-absolute addr </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.582ex" viewBox="0 -574.9 1000 681.1" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E4-MJMAIN-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E4-MJMAIN-2192" x="0" y="0"></use></g></svg></span><script type="math/tex">\to</script><span> phisical addr when program is loaded into memory</span></p></li></ol><ul><li><span>program can be loaded to different address when they start but cannot relocated later</span></li></ul></li><li><p><span>option 3 : execution time</span></p><ul><li><span>aka dynamic relocation</span></li><li><span>executable object file a.out contain logical address for entire program</span></li><li><span>translated to a real physical address during execution</span></li><li><span>Fliexible but require special hardware</span></li></ul></li></ul></li></ul><h4><a name="paging" class="md-header-anchor"></a><span>Paging</span></h4><ul><li><p><span>Definition</span></p><ul><li><p><span>Each process gets the illusion of its personal address space (0 </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.004ex" height="2.429ex" viewBox="0 -939.5 2584.9 1045.7" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E65-MJMAIN-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path><path stroke-width="0" id="E65-MJMAIN-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path stroke-width="0" id="E65-MJMAIN-36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z"></path><path stroke-width="0" id="E65-MJMAIN-34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E65-MJMAIN-2192" x="0" y="0"></use><g transform="translate(1277,0)"><use xlink:href="#E65-MJMAIN-32" x="0" y="0"></use><g transform="translate(500,392)"><use transform="scale(0.707)" xlink:href="#E65-MJMAIN-36"></use><use transform="scale(0.707)" xlink:href="#E65-MJMAIN-34" x="500" y="0"></use></g></g></g></svg></span><script type="math/tex">\to 2^{64}</script><span>-1)</span></p></li><li><p><span>Each virtual page can be mapped to any physical page</span></p></li><li><p><span>process co-exit in memory</span></p></li><li><p><span>Data is either in memory or on disk</span></p><ul><li><span>we must bring data in memory as needed (aka demand paging)</span></li><li><span>page table keep the correspondence between a virtual page and a physical page</span></li></ul></li></ul></li><li><p><span>Paging Process</span></p><ol start='' ><li><p><span>Partition (Computer) memory into equal and fixed-size chunks</span></p><ul><li><span>aka frame</span></li><li><span>like a small book shelf</span></li></ul></li><li><p><span>Divide the process memory into the same-size chunks</span></p><ul><li><span>aka page</span></li><li><span>like huge amount of books</span></li></ul></li><li><p><span>Any page can be assigned to any free frame</span></p><ul><li><p><span>no external fragmentation</span></p></li><li><p><span>internal fragmentation is at most a part of a page</span></p><ul><li><span>usually pagesize = 4K</span></li></ul></li><li><p><span>like putting books into shelf</span></p></li></ul></li></ol><ul><li><p><span>possible page frame size are restricted to the power of 2</span></p></li><li><p><span>use the </span><strong><span>Page Table Data Structure</span></strong><span> to store the mapping of virtual pages to physical page</span></p><ul><li><span>like book look up system</span></li></ul></li></ul></li><li><p><span>Page Address Translation</span></p><ul><li><span>Hardware MMU convert VA into PA using Page Table </span></li><li><span>Notice that OS process has their own Page Table</span></li></ul></li><li><p><span>Time complexity</span></p><ul><li><p><span>processes reference pages in localized patterns</span></p><ul><li><p><span>temporal locality</span></p><ul><li><span>recently referenced will referenced again</span></li></ul></li><li><p><span>spatical locality</span></p><ul><li><span>near recently referenced locaitons will referenced soon </span></li></ul></li><li><p><span>paging is infrequent</span></p><ul><li><span>processes usually exhibit both kinds of locality during their execution </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> make paging possible</span></li><li><span>all caching strategies depends on locality to be effective</span></li></ul></li></ul></li></ul></li><li><p><span>Protection And Sharing</span></p><ul><li><p><span>we need access rights for page like file permissions</span></p><ul><li><span>it is kept in the page tables</span></li></ul></li><li><p><span>OS data shouldn&#39;t be accessible to users</span></p></li><li><p><span>avoid leaked information from deallocated pages</span></p></li></ul></li><li><p><span>Support</span></p><ul><li><p><span>OS Support</span></p><ul><li><p><span>OS maintain the page table for each process</span></p><ul><li><p><span>SWDS store in OS memory</span></p></li><li><p><span>Page Table records which physical frame holds each page</span></p></li><li><p><span>Virtual address = </span></p><figure><table><thead><tr><th><span>[ </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.98ex" height="2.429ex" viewBox="0 -783.2 1713.6 1045.7" role="img" focusable="false" style="vertical-align: -0.609ex;"><defs><path stroke-width="0" id="E87-MJMATHI-6C" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path><path stroke-width="0" id="E87-MJMATHI-6F" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path><path stroke-width="0" id="E87-MJMATHI-67" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path><path stroke-width="0" id="E87-MJMAIN-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E87-MJMATHI-6C" x="0" y="0"></use><use xlink:href="#E87-MJMATHI-6F" x="298" y="0"></use><g transform="translate(783,0)"><use xlink:href="#E87-MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E87-MJMAIN-32" x="674" y="-213"></use></g></g></svg></span><script type="math/tex">log_2</script><span>(vaddr / page_size) ]</span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.338ex" height="1.582ex" viewBox="0 -418.7 1867.8 681.1" role="img" focusable="false" style="vertical-align: -0.609ex;"><defs><path stroke-width="0" id="E115-MJMAIN-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path stroke-width="0" id="E115-MJMAIN-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path><path stroke-width="0" id="E115-MJMAIN-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path stroke-width="0" id="E115-MJMAIN-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(0,-150)"><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-2192" x="500" y="0"></use><g transform="translate(1060,0)"><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-31"></use><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-30" x="500" y="0"></use></g></g></g></svg></span><script type="math/tex">_{2\to10}</script><span> bit#</span></th><th><span>[ </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.98ex" height="2.429ex" viewBox="0 -783.2 1713.6 1045.7" role="img" focusable="false" style="vertical-align: -0.609ex;"><defs><path stroke-width="0" id="E87-MJMATHI-6C" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path><path stroke-width="0" id="E87-MJMATHI-6F" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path><path stroke-width="0" id="E87-MJMATHI-67" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path><path stroke-width="0" id="E87-MJMAIN-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E87-MJMATHI-6C" x="0" y="0"></use><use xlink:href="#E87-MJMATHI-6F" x="298" y="0"></use><g transform="translate(783,0)"><use xlink:href="#E87-MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E87-MJMAIN-32" x="674" y="-213"></use></g></g></svg></span><script type="math/tex">log_2</script><span>(page_size) ]</span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.338ex" height="1.582ex" viewBox="0 -418.7 1867.8 681.1" role="img" focusable="false" style="vertical-align: -0.609ex;"><defs><path stroke-width="0" id="E115-MJMAIN-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path stroke-width="0" id="E115-MJMAIN-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path><path stroke-width="0" id="E115-MJMAIN-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path stroke-width="0" id="E115-MJMAIN-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(0,-150)"><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-2192" x="500" y="0"></use><g transform="translate(1060,0)"><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-31"></use><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-30" x="500" y="0"></use></g></g></g></svg></span><script type="math/tex">_{2\to10}</script><span> bit#</span></th></tr></thead><tbody><tr><td><span>page number</span></td><td><span>page offset</span></td></tr></tbody></table></figure><ul><li><span>page number = vaddr / page_size = [ vaddr &gt;&gt; </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.98ex" height="2.429ex" viewBox="0 -783.2 1713.6 1045.7" role="img" focusable="false" style="vertical-align: -0.609ex;"><defs><path stroke-width="0" id="E87-MJMATHI-6C" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path><path stroke-width="0" id="E87-MJMATHI-6F" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path><path stroke-width="0" id="E87-MJMATHI-67" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path><path stroke-width="0" id="E87-MJMAIN-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E87-MJMATHI-6C" x="0" y="0"></use><use xlink:href="#E87-MJMATHI-6F" x="298" y="0"></use><g transform="translate(783,0)"><use xlink:href="#E87-MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E87-MJMAIN-32" x="674" y="-213"></use></g></g></svg></span><script type="math/tex">log_2</script><span>(page_size) ]</span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.338ex" height="1.582ex" viewBox="0 -418.7 1867.8 681.1" role="img" focusable="false" style="vertical-align: -0.609ex;"><defs><path stroke-width="0" id="E115-MJMAIN-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path stroke-width="0" id="E115-MJMAIN-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path><path stroke-width="0" id="E115-MJMAIN-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path stroke-width="0" id="E115-MJMAIN-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(0,-150)"><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-2192" x="500" y="0"></use><g transform="translate(1060,0)"><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-31"></use><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-30" x="500" y="0"></use></g></g></g></svg></span><script type="math/tex">_{2\to10}</script><span> </span></li><li><span>page offset = vaddr % page_size = vaddr </span><span>&amp;</span><span> 0x3FF </span></li></ul></li><li><p><span>Physical addr = frame number + page offset</span></p><ul><li><span>paddr = page_table[ vaddr / page_size  ] + vaddr % page_size</span></li><li><span>page_table[   [ vaddr &gt;&gt; </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.98ex" height="2.429ex" viewBox="0 -783.2 1713.6 1045.7" role="img" focusable="false" style="vertical-align: -0.609ex;"><defs><path stroke-width="0" id="E87-MJMATHI-6C" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path><path stroke-width="0" id="E87-MJMATHI-6F" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path><path stroke-width="0" id="E87-MJMATHI-67" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path><path stroke-width="0" id="E87-MJMAIN-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E87-MJMATHI-6C" x="0" y="0"></use><use xlink:href="#E87-MJMATHI-6F" x="298" y="0"></use><g transform="translate(783,0)"><use xlink:href="#E87-MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E87-MJMAIN-32" x="674" y="-213"></use></g></g></svg></span><script type="math/tex">log_2</script><span>(page_size) ]</span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.338ex" height="1.582ex" viewBox="0 -418.7 1867.8 681.1" role="img" focusable="false" style="vertical-align: -0.609ex;"><defs><path stroke-width="0" id="E115-MJMAIN-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path stroke-width="0" id="E115-MJMAIN-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path><path stroke-width="0" id="E115-MJMAIN-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path stroke-width="0" id="E115-MJMAIN-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(0,-150)"><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-2192" x="500" y="0"></use><g transform="translate(1060,0)"><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-31"></use><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-30" x="500" y="0"></use></g></g></g></svg></span><script type="math/tex">_{2\to10}</script><span>   ]  &lt;&lt; [ </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.98ex" height="2.429ex" viewBox="0 -783.2 1713.6 1045.7" role="img" focusable="false" style="vertical-align: -0.609ex;"><defs><path stroke-width="0" id="E87-MJMATHI-6C" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path><path stroke-width="0" id="E87-MJMATHI-6F" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path><path stroke-width="0" id="E87-MJMATHI-67" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path><path stroke-width="0" id="E87-MJMAIN-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E87-MJMATHI-6C" x="0" y="0"></use><use xlink:href="#E87-MJMATHI-6F" x="298" y="0"></use><g transform="translate(783,0)"><use xlink:href="#E87-MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E87-MJMAIN-32" x="674" y="-213"></use></g></g></svg></span><script type="math/tex">log_2</script><span>(page_size) ]</span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.338ex" height="1.582ex" viewBox="0 -418.7 1867.8 681.1" role="img" focusable="false" style="vertical-align: -0.609ex;"><defs><path stroke-width="0" id="E115-MJMAIN-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path stroke-width="0" id="E115-MJMAIN-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path><path stroke-width="0" id="E115-MJMAIN-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path stroke-width="0" id="E115-MJMAIN-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(0,-150)"><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-2192" x="500" y="0"></use><g transform="translate(1060,0)"><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-31"></use><use transform="scale(0.707)" xlink:href="#E115-MJMAIN-30" x="500" y="0"></use></g></g></g></svg></span><script type="math/tex">_{2\to10}</script><span>  | (vaddr </span><span>&amp;</span><span> 0x3FF )</span></li></ul></li></ul></li></ul></li><li><p><span>Hardware Support</span></p><ul><li><p><span>PTBR</span></p><ul><li><span>indicate where the page table starts</span></li></ul></li></ul></li></ul></li><li><p><span>Memory Reference Process</span></p><ol start='' ><li><span>processor translate the page number to its frame number By looking up the Page Table</span></li><li><span>add the offset to generate a physical address </span></li><li><span>PTBR quickly locate the page table for currently running process</span></li></ol></li></ul><p>&nbsp;</p><h3><a name="page-table" class="md-header-anchor"></a><span>Page Table</span></h3><blockquote><p><span>PTE == Page Table Entry</span></p><p><span>PFN == Page Frame Number</span></p><p><span>PTD == Page Table Directory</span></p><p><span>TLB == Translation Lookaside Buffer</span></p><p><span>MMU == Memory Management Unit</span></p><p><span>VPN == Virtual Page Number</span></p><p><span>PTBR == Page Table Base Register</span></p><p><span>exploit [利用]</span></p><p><span>Pentium [奔腾]</span></p><p>&nbsp;</p></blockquote><h4><a name="page-table-entry" class="md-header-anchor"></a><span>Page Table Entry</span></h4><ul><li><p><span>#bit: 32 ( 4 byte )</span></p><ul><li><figure><table><thead><tr><th style='text-align:center;' ><span>1</span></th><th style='text-align:center;' ><span>1</span></th><th><span>1</span></th><th style='text-align:center;' ><span>3</span></th><th style='text-align:center;' ><span>26</span></th></tr></thead><tbody><tr><td style='text-align:center;' ><span>M</span></td><td style='text-align:center;' ><span>R</span></td><td><span>V</span></td><td style='text-align:center;' ><span>Prot</span></td><td style='text-align:center;' ><span>Page Fram Number</span></td></tr></tbody></table></figure></li></ul></li><li><p><span>Annotation</span></p><ul><li><p><span>M = Modify Bit</span></p><ul><li><span>page has been written?</span></li><li><span>set 1 when a write to a page occurs</span></li></ul></li><li><p><span>R = Reference Bit</span></p><ul><li><span>page has been accessed?</span></li><li><span>set 1 when a read/write to a page occurs</span></li></ul></li><li><p><span>V = Valid Bit</span></p><ul><li><span>page can be used?</span></li><li><span>checked on each use of vaddr</span></li></ul></li><li><p><span>Protection Bits</span></p><ul><li><span>specify whar operation are allowed on page</span></li><li><span>read/write/execute</span></li></ul></li><li><p><span>PFN</span></p><ul><li><span>determine physical page</span></li></ul></li></ul></li><li><p><span>PageTable store in protected memory</span></p></li><li><p><span>Limitation</span></p><ul><li><p><span>Space</span></p><ul><li><p><span>mem require for page table can be large</span></p><ul><li><span>need one PTE per page</span></li><li><span>direct page table (increase page size ) will cause internal fragmentation </span></li><li><span>increase page table (i.e. one per code, stack, heap) will cause external fragmentation </span></li></ul></li><li><p><span>Solution : </span></p><ol start='' ><li><span>hierachical PT (multi-level page table )</span></li><li><span>hashed PT</span></li><li><span>Inverted PT</span></li></ol></li></ul></li><li><p><span>Time</span></p><ul><li><p><span>mem reference overhead time</span></p><ul><li><p><span>2 mem reads/reference per address lookup</span></p><ol start='' ><li><span>read PT</span></li><li><span>read actual mem</span></li></ol></li><li><p><span>hierachical page table make it worse</span></p><ul><li><span>one read per level of page table</span></li></ul></li></ul></li><li><p><span>Solution:</span></p><ul><li><p><span>use a hardware cache of lookup</span></p><ul><li><span>TLB</span></li></ul></li></ul></li></ul></li></ul></li></ul><h4><a name="multi-level-page-table" class="md-header-anchor"></a><span>Multi-Level Page Table</span></h4><ul><li><p><span>Nutshell Idea</span></p><ul><li><span>split PT into Pages of PTE</span></li><li><span>use a PTD / master page table to point to different page of PTEs</span></li></ul></li><li><p><span>Two-Level Page Table</span></p><ul><li><p><span>vaddr =</span></p><ul><li><figure><table><thead><tr><th><span>Map to Secondary Page Table</span></th><th><span>Map to Physical Frame</span></th><th><span>Offset of Physical Frame</span></th></tr></thead><tbody><tr><td><span>Master Page Number ( 10 )</span></td><td><span>Secondary ( 10 )</span></td><td><span>Offset ( 12 )</span></td></tr></tbody></table></figure></li></ul></li><li><p><span>#bit of offset = </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.98ex" height="2.429ex" viewBox="0 -783.2 1713.6 1045.7" role="img" focusable="false" style="vertical-align: -0.609ex;"><defs><path stroke-width="0" id="E87-MJMATHI-6C" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path><path stroke-width="0" id="E87-MJMATHI-6F" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path><path stroke-width="0" id="E87-MJMATHI-67" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path><path stroke-width="0" id="E87-MJMAIN-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E87-MJMATHI-6C" x="0" y="0"></use><use xlink:href="#E87-MJMATHI-6F" x="298" y="0"></use><g transform="translate(783,0)"><use xlink:href="#E87-MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E87-MJMAIN-32" x="674" y="-213"></use></g></g></svg></span><script type="math/tex">log_2</script><span>(page_size)</span></p></li><li><p><span>Common Number</span></p><ul><li><p><span>32-bit vaddr space</span></p></li><li><p><span>4K pages</span></p></li><li><p><span>4 byte / PTE</span></p></li><li><p><span>offset bit#: 12 (leave 20 bit)</span></p></li><li><p><span>each page table occupy 1 page frame</span></p></li><li><p><span>4K / 4 byte = 1K PTE  per page table frame</span></p><ul><li><span>Master 1K = 10 bits</span></li><li><span>Secondary 1K = 10 bits</span></li></ul></li></ul></li></ul></li><li><p><span>Trade-off</span></p><ul><li><span>Save space</span></li><li><span>Add more level of indirection when translating address</span></li><li><span>Linux use 3-level page tables</span></li></ul></li><li><p><span>64-bit Address Space</span></p><ul><li><span>only using 48 bits</span></li><li><span>9 bits | 9 bits | 9 bits | 9 bits | 12 bits</span></li><li><span>assuming 8 byts for PTE</span></li><li><span>may be 4 level too much overhead</span></li></ul></li><li><p><span>Solution 1: Hashed Page Tables</span></p><ul><li><span>VPN </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.582ex" viewBox="0 -574.9 1000 681.1" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E4-MJMAIN-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E4-MJMAIN-2192" x="0" y="0"></use></g></svg></span><script type="math/tex">\to</script><span> Hashed-bucked </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.582ex" viewBox="0 -574.9 1000 681.1" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E4-MJMAIN-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E4-MJMAIN-2192" x="0" y="0"></use></g></svg></span><script type="math/tex">\to</script><span> PTE </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.582ex" viewBox="0 -574.9 1000 681.1" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E4-MJMAIN-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E4-MJMAIN-2192" x="0" y="0"></use></g></svg></span><script type="math/tex">\to</script><span> PFN</span></li></ul></li><li><p><span>Solution 2: Incerted Page Tables</span></p><ul><li><span>keep only one page table for the whole system</span></li><li><span>need to record prcess id</span></li></ul></li></ul><h4><a name="tlb" class="md-header-anchor"></a><span>TLB</span></h4><ul><li><p><span>aka Translation Lookaside Buffer</span></p></li><li><p><span>Definition</span></p><ul><li><span>small and fully-associative hardware cache of recently used translation</span></li><li><span>part of the MMU</span></li><li><strong><span>translate VPN into PTE</span></strong></li><li><span>can be don in a single machine cycle</span></li></ul></li><li><p><span>TLB Characteristic</span></p><ul><li><span>all entries looked up in parallel = fully associative </span><strong><span>cache</span></strong></li><li><span>cache tag = virtual page num</span></li><li><span>cache value = PTE </span></li><li><span>with PTE + offset can know physical address / secondary PT</span></li></ul></li><li><p><span>TLB exploit locality</span></p><ul><li><p><span>process only use a handful of pages at a time</span></p><ul><li><span>only need those pages to be mapped</span></li><li><span>65 entry TLB map 64 pages (256K)</span></li></ul></li><li><p><span>HIT RATE important</span></p><ul><li><span>typically &gt;99% of translation are hits</span></li></ul></li><li><p><span>still need to deal with TLB miss/TLB fault</span></p></li></ul></li></ul><h4><a name="manage-tlb" class="md-header-anchor"></a><span>Manage TLB</span></h4><ul><li><p><span>who to place the translation / load TLB</span></p><ul><li><p><span>Hardware-loaded / MMU</span></p><ul><li><p><span>eg: Intel Pentium</span></p></li><li><p><span>know PTBR (where page tables are in main mem)</span></p></li><li><p><span>HW access the OS maintained table in memory</span></p></li><li><p><span>Table have to be in HW-defined format</span></p><ul><li><span>inflexible</span></li></ul></li></ul></li><li><p><span>Software-loaded / OS</span></p><ul><li><p><span>eg: MIPS R2000</span></p></li><li><p><span>TLB faults to the OS</span></p></li><li><p><span>OS find appropriate PTE and loads it in TLB</span></p></li><li><p><span>Must be fast (but still 20-200 cycles)</span></p></li><li><p><span>CPU ISA has instructions for manipulating TLB</span></p><ul><li><span>add entry</span></li><li><span>read entry</span></li><li><span>invalidate entry</span></li><li><span>invalidate all entries / flush</span></li></ul></li><li><p><span>tables can be any format convenient for OS</span></p><ul><li><span>flexible</span></li></ul></li></ul></li></ul></li><li><p><span>Ensure Consistency</span></p><ul><li><p><span>OS ensure TLB and PR are consistent</span></p><ul><li><span>invalidate the entry of the catched copy of the PT in TLB when it change the protection bits of a PTE</span></li></ul></li></ul></li><li><p><span>Reload TLB on a process context switch</span></p><ul><li><span>invalidate all entries / flush the TLB</span></li><li><span>how to fix it (????)</span></li></ul></li><li><p><span>TLB Miss</span></p><ul><li><p><span>a new PTE has to be loaded</span></p></li><li><p><span>a cached PTE must be evivted</span></p><ul><li><span>choosing PTE to evict == TLB Replacement Policy</span></li><li><span>implemented in hardware for hardware loaded TLB</span></li></ul></li></ul></li></ul><h4><a name="demand-paging" class="md-header-anchor"></a><span>Demand Paging</span></h4><ul><li><p><span>Process Definition</span></p><ul><li><span>pages will be moced between memory and disk</span></li></ul></li><li><p><span>Semantics</span></p><ul><li><p><span>OS use main memory as a </span><strong><span>page cache</span></strong><span> of all the data allocated by processes in the system</span></p><ol start='' ><li><span>initially page are allocated form mem</span></li><li><span>when mem fills up </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> allocating page in mem requires some other page to be </span><strong><span>evicted</span></strong><span> from memory</span></li><li><span>evicted pages go to disk ( i.e. the swap file)</span></li></ol></li></ul></li><li><p><span>Flavour</span></p><ul><li><span>the movement of pages between mem and disk is done by the OS </span></li><li><span>transparent to app</span></li></ul></li><li><p><span>Dirty VS Clean Page</span></p><ul><li><span>dirty page == modified page</span></li><li><span>only dirty page need to be swapped</span></li><li><span>should know where clean pages on disk to read them from agian ( no actual swapping )</span></li></ul></li><li><p><span>OS View / Perspective Performance </span></p><ul><li><p><span>evict page to disk </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E175-MJMAIN-21D0" d="M944 153Q944 140 929 133H318L328 123Q379 69 414 0Q419 -13 419 -17Q419 -24 399 -24Q388 -24 385 -23T377 -12Q332 77 253 144T72 237Q62 240 59 242T56 250T59 257T70 262T89 268T119 278T160 296Q303 366 377 512Q382 522 385 523T401 525Q419 524 419 515Q419 510 414 500Q379 431 328 377L318 367H929Q944 359 944 347Q944 336 930 328L602 327H274L264 319Q225 289 147 250Q148 249 165 241T210 217T264 181L274 173H930Q931 172 933 171T936 169T938 167T941 164T942 162T943 158T944 153Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E175-MJMAIN-21D0" x="0" y="0"></use></g></svg></span><script type="math/tex">\Leftarrow</script><span> mem if full</span></p></li><li><p><span>load page from disk </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E175-MJMAIN-21D0" d="M944 153Q944 140 929 133H318L328 123Q379 69 414 0Q419 -13 419 -17Q419 -24 399 -24Q388 -24 385 -23T377 -12Q332 77 253 144T72 237Q62 240 59 242T56 250T59 257T70 262T89 268T119 278T160 296Q303 366 377 512Q382 522 385 523T401 525Q419 524 419 515Q419 510 414 500Q379 431 328 377L318 367H929Q944 359 944 347Q944 336 930 328L602 327H274L264 319Q225 289 147 250Q148 249 165 241T210 217T264 181L274 173H930Q931 172 933 171T936 169T938 167T941 164T942 162T943 158T944 153Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E175-MJMAIN-21D0" x="0" y="0"></use></g></svg></span><script type="math/tex">\Leftarrow</script><span> reference again</span></p></li><li><p><span>when reference to an evicted page </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> </span></p><ul><li><p><span>cause TLB miss</span></p></li><li><p><span>PTE was invalid so cause Page Fault</span></p></li><li><p><span>OS allocate a page frame</span></p></li><li><p><span>OS read page from disk</span></p></li><li><p><span>When I/O complete</span></p><ul><li><span>OS fill in PTE</span></li><li><span>mark it valid</span></li><li><span>restart the faulting process</span></li></ul></li></ul></li></ul></li><li><p><span>Process Perspective Performance</span></p><ul><li><p><span>when a process FIRST START / Created</span></p><ul><li><p><span>a new-created process contain</span></p><ul><li><span>a brand new page table with all valide bits off (0000000...)</span></li><li><span>no pages in memory</span></li></ul></li></ul></li><li><p><span>when a process starts executing</span></p><ul><li><span>instructions fault on code and data pages</span></li><li><span>faulting stops when all necessary code+ data page are in mem</span></li><li><span>only code + data needed by a process will be loaded</span></li><li><span>then change over time</span></li></ul></li></ul></li><li><p><span>Cost</span></p><ul><li><p><span>Timing</span></p><ul><li><span>disk read is initated when the process needs the page</span></li></ul></li><li><p><span>Request size</span></p><ul><li><span>process can only trigger page fault on one page at a time</span></li><li><span>disk see single page-sized read</span></li></ul></li></ul></li><li><p><span>Alternative Policy</span></p><ul><li><p><span>Prepaging </span></p><ul><li><p><span>aka prefetching</span></p></li><li><p><span>predict future page use at time of current fault</span></p></li><li><p><span>eg</span></p><ul><li><span>load A </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.582ex" viewBox="0 -574.9 1000 681.1" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E4-MJMAIN-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E4-MJMAIN-2192" x="0" y="0"></use></g></svg></span><script type="math/tex">\to</script><span> fault and fetch A </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.582ex" viewBox="0 -574.9 1000 681.1" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E4-MJMAIN-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E4-MJMAIN-2192" x="0" y="0"></use></g></svg></span><script type="math/tex">\to</script><span> load B </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.582ex" viewBox="0 -574.9 1000 681.1" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E4-MJMAIN-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E4-MJMAIN-2192" x="0" y="0"></use></g></svg></span><script type="math/tex">\to</script><span> fault and fetch B ( without prepaging)</span></li><li><span>load A </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.582ex" viewBox="0 -574.9 1000 681.1" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E4-MJMAIN-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E4-MJMAIN-2192" x="0" y="0"></use></g></svg></span><script type="math/tex">\to</script><span> fault and fetch A+B (with prepaging to predict that B will be loaded at next)</span></li></ul></li><li><p><span>limitation</span></p><ul><li><span>how to predict?</span></li></ul></li></ul></li></ul><p>&nbsp;</p></li></ul><h4><a name="page-fault" class="md-header-anchor"></a><span>Page Fault</span></h4><ul><li><p><span>Definition</span></p><ul><li><span>miss in TLB and page is not in memory</span></li></ul></li><li><p><span>Cause</span></p><ul><li><p><span>Page table entry indicates that the page is not in mem</span></p><ul><li><span>a process access a page that has been evicted</span></li></ul></li></ul></li><li><p><span>Action</span></p><ul><li><span>OS is responsible for loading page from disk</span></li><li><span>process stops until the data is brought into memory</span></li><li><span>use the OS page replacement policy</span></li></ul></li><li><p><span>Detail Of Access Evicted Page</span></p><ol start='' ><li><p><span>OS evict a page</span></p><ul><li><span>set the PTE invalid</span></li><li><span>store the location of the page in the swap file in the PTE</span></li></ul></li><li><p><span>A process access the page</span></p><ul><li><span>the invalid PTE will cause a trap ( aka Page Fault )</span></li></ul></li><li><p><span>Trap will run the OS Page Fault Handler</span></p></li><li><p><span>Handler uses the invalid PTE to locate page in swap file</span></p><ul><li><span>Read page into a PF</span></li><li><span>update PTE to Point to it</span></li><li><span>reload TLB</span></li></ul></li><li><p><span>Now prcess resume the process</span></p></li></ol></li><li><p><span>Limitation</span></p><ul><li><p><span>each time we evict somthing else we put the invalid PTE</span></p><ul><li><span>slow</span></li></ul></li></ul></li><li><p><span>Solution</span></p><ul><li><span>OS Usually keeps a pool of free pages around so that allocation do not always cause eviction</span></li></ul></li></ul><p>&nbsp;</p><h3><a name="page-replacement-algorithm" class="md-header-anchor"></a><span>Page Replacement Algorithm</span></h3><blockquote><p><span>TLB == Translation Lookaside Buffer</span></p><p><span>FIFO == First In First Out</span></p><p><span>LRU == Least Recently Used</span></p><p><span>MRU == Most Recently Used</span></p><p><span>Thrashing [毒打]</span></p></blockquote><h4><a name="page-replacement-policy" class="md-header-anchor"></a><span>Page Replacement Policy</span></h4><ul><li><p><span>Cause</span></p><ul><li><p><span>when page fault occurs</span></p><ul><li><span>OS loads the faulted page form disk inot a page frame of memory</span></li></ul></li><li><p><span>There may be no free frames available for use</span></p></li><li><p><span>OS must replace a page form each page faulted in</span></p><ul><li><p><span>evict a page (aka the victime) to free up a frame</span></p></li><li><p><span>if the victim has been modified since the last page-out</span></p><ul><li><span>it mus be written back to disk on eviction ( dirty page)</span></li></ul></li></ul></li></ul></li><li><p><span>Role</span></p><ul><li><p><span>determine how a victime is chosen</span></p></li><li><p><span>avoid thrashing</span></p><ul><li><p><span>thrashing == overcommitted</span></p><ul><li><span>spending more time on paging data back and forth from disk than executing user programs</span></li><li><span>no time spent doing useful work</span></li><li><span>could just be that there isn&#39;t enough physical mem for all of the processes in the system</span></li></ul></li><li><p><span>Possible solution</span></p><ul><li><p><span>swapping</span></p><ul><li><span>write out all pages of a process and suspend it</span></li><li><span>buy more mem [微笑.jpg]</span></li></ul></li></ul></li></ul></li></ul></li><li><p><span>Goal</span></p><ul><li><span>to reduce the fault rate by slelcting the best victime page to remove</span></li></ul></li><li><p><span>Evaluation</span></p><ul><li><p><span>a reference string by counting the number of page faults</span></p><ul><li><span>Evicting the page that won&#39;t be used for the longest period of time minimize the number of page faults</span></li></ul></li></ul></li></ul><h4><a name="beladys-algorithm" class="md-header-anchor"></a><span>Belady&#39;s Algorithm</span></h4><ul><li><p><span>Idea</span></p><ul><li><span>Replace the page that will not be used for the longest period of time</span></li></ul></li><li><p><span>Contribution</span></p><ul><li><p><span>have the lowest fault rate for any page reference stream</span></p></li><li><p><span>use it as a yardstick</span></p><ul><li><span>compare implemetation of page replacement algorithms with the optimal to gauge room for improve</span></li><li><span>random replacement is often the lower bound</span></li></ul></li></ul></li><li><p><span>Problem</span></p><ul><li><span>have to know the future perfectly</span></li></ul></li><li><p><span>Belady&#39;s Example</span></p><ul><li><p><span>Cold Miss</span></p><ul><li><span>First access to a page ( unavoidable )</span></li></ul></li><li><p><span>Capacity Miss</span></p><ul><li><span>caused by replacement due to limited size of memory</span></li><li><span>choose a victim to evict</span></li></ul></li></ul></li></ul><h4><a name="fifo" class="md-header-anchor"></a><span>FIFO</span></h4><ul><li><p><span>Idea</span></p><ul><li><span>maintain list of pages in the order that were paged in</span></li><li><span>on replacement evict the oldest one</span></li></ul></li><li><p><span>Contribution</span></p><ul><li><span>obvious algorithm </span></li><li><span>simple to implement</span></li></ul></li><li><p><span>Limitation </span></p><ul><li><p><span>the one brought in the longest ago  may or may not being used </span></p></li><li><p><span>suffers form Belady&#39;s anomaly</span></p><ul><li><span>the fault rate might actually increase when the algorithm is given more memory</span></li><li><span>eg 3 page frames </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.582ex" viewBox="0 -574.9 1000 681.1" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E4-MJMAIN-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E4-MJMAIN-2192" x="0" y="0"></use></g></svg></span><script type="math/tex">\to</script><span> 4 page frames</span></li></ul></li></ul></li><li><p><span>Example</span></p><ul><li><p><span>reference string</span></p><ul><li><span>0 1 2 3 0 1 4 0 1 2 3 4 [ 5 unique num ]</span></li></ul></li><li><p><span>3 frame</span></p><ul><li><figure><table><thead><tr><th><span>Youngest</span></th><th><span>\0/</span></th><th><span>\1/</span></th><th><span>\2/</span></th><th><span>\3/</span></th><th><span>/\0/\</span></th><th><span>/\1/\</span></th><th><span>\4/</span></th><th><span>4</span></th><th><span>4</span></th><th><span>/\2/\</span></th><th><span>/\3/\</span></th><th><span>3</span></th></tr></thead><tbody><tr><td>&nbsp;</td><td>&nbsp;</td><td><span>0</span></td><td><span>1</span></td><td><span>2</span></td><td><span>3</span></td><td><span>0</span></td><td><span>1</span></td><td><span>1</span></td><td><span>1</span></td><td><span>4</span></td><td><span>2</span></td><td><span>2</span></td></tr><tr><td><strong><span>Oldest</span></strong></td><td>&nbsp;</td><td>&nbsp;</td><td><span>0</span></td><td><span>1</span></td><td><span>2</span></td><td><span>3</span></td><td><span>0</span></td><td><span>0</span></td><td><span>0</span></td><td><span>1</span></td><td><span>4</span></td><td><span>4</span></td></tr></tbody></table></figure></li><li><p><span>9 fault = 5 cold miss + 4 capacity miss</span></p></li></ul></li><li><p><span>4 frame</span></p><ul><li><figure><table><thead><tr><th><span>Youngest</span></th><th><span>\0/</span></th><th><span>\1/</span></th><th><span>\2/</span></th><th><span>\3/</span></th><th><span>3</span></th><th><span>3</span></th><th><span>\4/</span></th><th><span>/\0/\</span></th><th><span>/\1/\</span></th><th><span>/\2/\</span></th><th><span>/\3/\</span></th><th><span>/\4/\</span></th></tr></thead><tbody><tr><td>&nbsp;</td><td>&nbsp;</td><td><span>0</span></td><td><span>1</span></td><td><span>2</span></td><td><span>2</span></td><td><span>2</span></td><td><span>3</span></td><td><span>4</span></td><td><span>0</span></td><td><span>1</span></td><td><span>2</span></td><td><span>3</span></td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td><span>0</span></td><td><span>1</span></td><td><span>1</span></td><td><span>1</span></td><td><span>2</span></td><td><span>3</span></td><td><span>4</span></td><td><span>0</span></td><td><span>1</span></td><td><span>2</span></td></tr><tr><td><strong><span>Oldest</span></strong></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td><span>0</span></td><td><span>0</span></td><td><span>0</span></td><td><span>1</span></td><td><span>2</span></td><td><span>3</span></td><td><span>4</span></td><td><span>0</span></td><td><span>1</span></td></tr></tbody></table></figure></li><li><p><span>10 fault = 5 cold miss + 5 capacity miss</span></p></li></ul></li></ul></li></ul><h4><a name="lru" class="md-header-anchor"></a><span>LRU</span></h4><ul><li><p><span>Idea</span></p><ul><li><p><span>make a guess based upon past experience </span></p></li><li><p><span>on replacement evict the page that has not been used for the longest time in the past</span></p><ul><li><span>LRU is opposite of Belady</span></li></ul></li></ul></li><li><p><span>Contribution</span></p><ul><li><span>it is a stack algorithm so no Belady&#39;s anomaly</span></li></ul></li><li><p><span>Implementing LRU</span></p><ul><li><p><span>Option 1: Time Stamp</span></p><ul><li><p><span>implementation</span></p><ol start='' ><li><span>time stamp every reference</span></li><li><span>evict page with the oldest time stamp</span></li></ol></li><li><p><span>problem</span></p><ul><li><span>need PTE big enough to holde meaningful time stamp (space complexity)</span></li><li><span>need to examine every page on eviction to find the oldest one (time complexity)</span></li></ul></li></ul></li><li><p><span>Option 2: Stack</span></p><ul><li><p><span>implementation </span></p><ol start='' ><li><span>keep pages in a stack</span></li><li><span>on reference </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> move the page to the top of the stack</span></li><li><span>on eviction </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> replace the page at bottom</span></li></ol></li><li><p><span>problem</span></p><ul><li><span>need costly software operation to manipulate stack on EVERY memory reference process</span></li></ul></li></ul></li></ul></li><li><p><span>Example</span></p><ul><li><p><span>reference string</span></p><ul><li><span>0 1 2 3 0 1 4 0 1 2 3 4 [ 5 unique num ]</span></li></ul></li><li><p><span>3 frame</span></p><ul><li><figure><table><thead><tr><th><span>MRU</span></th><th><span>\0/</span></th><th><span>\1/</span></th><th><span>\2/</span></th><th><span>\3/</span></th><th><span>/\0/\</span></th><th><span>/\1/\</span></th><th><span>\4/</span></th><th><span>0</span></th><th><span>1</span></th><th><span>/\2/\</span></th><th><span>/\3/\</span></th><th><span>/\4/\</span></th></tr></thead><tbody><tr><td>&nbsp;</td><td>&nbsp;</td><td><span>0</span></td><td><span>1</span></td><td><span>2</span></td><td><span>3</span></td><td><span>0</span></td><td><span>1</span></td><td><span>4</span></td><td><span>0</span></td><td><span>1</span></td><td><span>2</span></td><td><span>3</span></td></tr><tr><td><strong><span>LRU</span></strong></td><td>&nbsp;</td><td>&nbsp;</td><td><span>0</span></td><td><span>1</span></td><td><span>2</span></td><td><span>3</span></td><td><span>0</span></td><td><span>1</span></td><td><span>4</span></td><td><span>0</span></td><td><span>1</span></td><td><span>2</span></td></tr></tbody></table></figure></li><li><p><span>10 fault = 5 cold miss + 5 capacity miss</span></p></li></ul></li><li><p><span>4 frame</span></p><ul><li><figure><table><thead><tr><th><span>MRU</span></th><th><span>\0/</span></th><th><span>\1/</span></th><th><span>\2/</span></th><th><span>\3/</span></th><th><span>0</span></th><th><span>1</span></th><th><span>\4/</span></th><th><span>0</span></th><th><span>1</span></th><th><span>/\2/\</span></th><th><span>/\3/\</span></th><th><span>/\4/\</span></th></tr></thead><tbody><tr><td>&nbsp;</td><td>&nbsp;</td><td><span>0</span></td><td><span>1</span></td><td><span>2</span></td><td><span>3</span></td><td><span>0</span></td><td><span>1</span></td><td><span>4</span></td><td><span>0</span></td><td><span>1</span></td><td><span>2</span></td><td><span>3</span></td></tr><tr><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td><span>0</span></td><td><span>1</span></td><td><span>2</span></td><td><span>3</span></td><td><span>0</span></td><td><span>1</span></td><td><span>4</span></td><td><span>0</span></td><td><span>1</span></td><td><span>2</span></td></tr><tr><td><strong><span>LRU</span></strong></td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td><span>0</span></td><td><span>1</span></td><td><span>2</span></td><td><span>3</span></td><td><span>3</span></td><td><span>3</span></td><td><span>4</span></td><td><span>0</span></td><td><span>1</span></td></tr></tbody></table></figure></li></ul></li><li><p><span>8 fault = 5 cold miss + 3 capacity miss</span></p></li></ul></li><li><p><span>Limitation</span></p><ul><li><span>Exact LRU  is too costly to implement</span></li></ul></li><li><p><span>Solution </span></p><ul><li><p><span>LRU Approximation</span></p><ul><li><p><span>use the PTE reference bit/bits</span></p></li><li><p><span>basic idea</span></p><ul><li><p><span>initially all R bits are 0</span></p></li><li><p><span>as process execute </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> R  bits are set to 1 for pages that are used</span></p></li><li><p><span>periodically examine R bits</span></p><ul><li><span>dk order of use but know pages that were/ were not used</span></li></ul></li></ul></li><li><p><span>Additional-Reference-Bits Algorithm</span></p><ul><li><p><span>keep a counter for each page</span></p></li><li><p><span>at regular intervals for every page do</span></p><ul><li><span>shift R bit into high bit of counter register</span></li><li><span>shift other bits to the right</span></li><li><span>pages with larger counters were used more recently</span></li></ul></li></ul></li></ul></li></ul></li></ul><h4><a name="second-chance-algorithm--clock" class="md-header-anchor"></a><span>Second Chance Algorithm / CLOCK</span></h4><ul><li><p><span>Algorithm Idea</span></p><ul><li><p><span>FIFO</span></p></li><li><p><span>But inspect Reference Bit when page is slelected</span></p><ul><li><span>if ref bit == 0 </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> evict? replace the page : set the ref bit to 1</span></li><li><span>if ref bit == 1 </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> evict?  clear ref bit + reset arrival time of page to current time: stay</span></li></ul></li><li><p><span>pages that are used often enough   to keep the ref bits &gt;= 0   will stay</span></p></li><li><p><span>can cobime with M bit to create 4 classes of pages</span></p><ul><li><span>called Not Recently Used in text</span></li></ul></li></ul></li><li><p><span>Implementation : CLOCK</span></p><ul><li><p><span>replace the page that is old enough</span></p><ul><li><p><span>arrange all of physical PF in a big circle (CLOCK)</span></p></li><li><p><span>a clock hand is used to select a good LRU candidate</span></p></li><li><p><span>sweep through the pages in circular order like a clock</span></p><ul><li><p><span>only sweep the hand when a new page needs to be brought in</span></p><ul><li><p><span>if not new page </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> </span></p><ol start='' ><li><span>hand hold at the current page</span></li><li><span>set hand.ref bit to 1</span></li></ol></li><li><p><span>if new page </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> </span></p><ul><li><p><span>if no need to replace/evict  </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> </span></p><ol start='' ><li><span>set new page/hand.ref bit to 1</span></li><li><span>sweep/time++</span></li></ol></li><li><p><span>if need to replace/evict </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> </span></p><ul><li><p><span>start inspecting the hand pointing page Loop (keep check clockwised)</span></p></li><li><p><span>if hand.ref bit == 0  </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script></p><ol start='' ><li><span>replace this page with new page</span></li><li><span>set the new_page.ref bit to 1 </span></li><li><span>sweep/time++</span></li><li><span>break the inspecting Loop (since has evicted)</span></li></ol></li><li><p><span>if hand.ref bit == 1 </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script></p><ol start='' ><li><span>turn this page ref bit to 0 </span></li><li><span>sweep/time++</span></li></ol></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li><li><p><span>Contribution</span></p><ul><li><span>arm moves quickly when pages are needed</span></li></ul></li><li><p><span>Limitation</span></p><ul><li><p><span>low overhead when plenty of memory</span></p></li><li><p><span>if mem is large </span></p><ul><li><span>accuracy of information degrades</span></li></ul></li></ul></li></ul><h4><a name="counting-based-replacement" class="md-header-anchor"></a><span>Counting-Based Replacement</span></h4><ul><li><p><span>Idea</span></p><ul><li><p><span>count number of uses of a page</span></p></li><li><p><span>LFU == Least Frequently Used </span></p><ul><li><span>replace the page used least often</span></li></ul></li><li><p><span>MFU == Most Frequently Used</span></p><ul><li><span>favour new pages</span></li></ul></li></ul></li><li><p><span>Limitation</span></p><ul><li><span>poor approximation of OPT</span></li><li><span>pages that are heavily used at one time tend to stick around even when not needed anymore </span></li><li><span>new pages haven&#39;t had a chance to be used much</span></li></ul></li></ul><h4><a name="page-buffering" class="md-header-anchor"></a><span>Page Buffering</span></h4><ul><li><p><span>Problem Addressing</span></p><ul><li><span>the replacement algorithm will select a victim page when a new page needs to be brought in</span></li><li><span>most of these algorithms are too costly to run on EVERY page fault</span></li><li><span>so we reduce the frequency of running</span></li></ul></li><li><p><span>Idea</span></p><ul><li><p><span>maintain a pool of free pages</span></p></li><li><p><span>run replacement algorithm when pool becomes to small ( i.e. low water mark )</span></p></li><li><p><span>free enough pages to at once replenish pool ( i.e. high water mark)</span></p></li><li><p><span>on page fault </span></p><ul><li><span>grab a frame from the free list</span></li><li><span>frame on free list still hhold previous contents</span></li><li><span>can be rescued if virtual page is referenced before reallocation</span></li></ul></li></ul></li></ul><p>&nbsp;</p><h3><a name="memory-allocation-usage-implementation" class="md-header-anchor"></a><span>Memory Allocation Usage Implementation </span></h3><blockquote><p><span>WS == Working Set</span></p></blockquote><h4><a name="fixed-vs-variable-space-allocation" class="md-header-anchor"></a><span>Fixed VS Variable Space Allocation</span></h4><ul><li><p><span>Observation</span></p><ul><li><span>need to allocate memory to competing processes in a multiprogramming system</span></li></ul></li><li><p><span>Memory Allocation Algorithm </span></p><ul><li><p><span>Fixed space algorithm</span></p><ul><li><p><span>Each process is given a limit of pages it can use</span></p></li><li><p><span>Reaching the limit </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> it replace from its own pages</span></p></li><li><p><span>Local replacement</span></p><ul><li><span>some process may do well while other suffers</span></li></ul></li></ul></li><li><p><span>Variable space algorithm</span></p><ul><li><p><span>Process &#39;s set of pages grows and shrinks dynamically</span></p></li><li><p><span>Golbal replacement</span></p><ul><li><span>one process can ruin all the rest</span></li></ul></li><li><p><span>Local replacement</span></p><ul><li><span>replacemnt / set size are separate from each process</span></li></ul></li></ul></li></ul></li></ul><p>&nbsp;</p><h4><a name="working-set-of-a-process" class="md-header-anchor"></a><span>Working Set Of A Process</span></h4><ul><li><p><span>Role</span></p><ul><li><span>model the dynamic locality of tis memory usage</span></li></ul></li><li><p><span>Definition</span></p><ul><li><p><span>Annotation</span></p><ul><li><span>Let </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.897ex" height="2.55ex" viewBox="0 -731.2 816.7 1097.7" role="img" focusable="false" style="vertical-align: -0.851ex;"><defs><path stroke-width="0" id="E302-MJMATHI-74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path stroke-width="0" id="E302-MJMATHI-70" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E302-MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E302-MJMATHI-70" x="510" y="-213"></use></g></svg></span><script type="math/tex">t_p</script><span> be a time point</span></li><li><span>Let </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.935ex" height="1.945ex" viewBox="0 -783.2 833 837.3" role="img" focusable="false" style="vertical-align: -0.126ex;"><defs><path stroke-width="0" id="E332-MJMAIN-394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E332-MJMAIN-394" x="0" y="0"></use></g></svg></span><script type="math/tex">\Delta</script><span>  be a number of the page reference that indicate the working set window</span></li><li><span>measured in page refs</span></li><li><span>like a page working observation range or limitation starting from some time point before until </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.897ex" height="2.55ex" viewBox="0 -731.2 816.7 1097.7" role="img" focusable="false" style="vertical-align: -0.851ex;"><defs><path stroke-width="0" id="E302-MJMATHI-74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path stroke-width="0" id="E302-MJMATHI-70" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E302-MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E302-MJMATHI-70" x="510" y="-213"></use></g></svg></span><script type="math/tex">t_p</script></li><li><span>Let </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.29ex" height="2.429ex" viewBox="0 -783.2 986 1045.7" role="img" focusable="false" style="vertical-align: -0.609ex;"><defs><path stroke-width="0" id="E341-MJMATHI-50" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path><path stroke-width="0" id="E341-MJMATHI-69" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E341-MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E341-MJMATHI-69" x="907" y="-213"></use></g></svg></span><script type="math/tex">P_i</script><span> be a page referenced at time point </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.801ex" height="1.945ex" viewBox="0 -731.2 345 837.3" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E304-MJMATHI-69" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E304-MJMATHI-69" x="0" y="0"></use></g></svg></span><script type="math/tex">i</script><span> </span></li></ul></li><li><p><span>Formula</span></p><ul><li><span>WS</span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.865ex" height="2.792ex" viewBox="0 -835.3 2955.7 1201.9" role="img" focusable="false" style="vertical-align: -0.851ex;"><defs><path stroke-width="0" id="E446-MJMAIN-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path stroke-width="0" id="E446-MJMATHI-74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path stroke-width="0" id="E446-MJMATHI-70" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path><path stroke-width="0" id="E446-MJMAIN-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path stroke-width="0" id="E446-MJMAIN-394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path><path stroke-width="0" id="E446-MJMAIN-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E446-MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="#E446-MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E446-MJMATHI-70" x="510" y="-213"></use></g><use xlink:href="#E446-MJMAIN-2C" x="1205" y="0"></use><use xlink:href="#E446-MJMAIN-394" x="1733" y="0"></use><use xlink:href="#E446-MJMAIN-29" x="2566" y="0"></use></g></svg></span><script type="math/tex">(t_p\text{,  }\Delta)</script><span>  = { </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.936ex" height="2.671ex" viewBox="0 -835.3 1264 1149.8" role="img" focusable="false" style="vertical-align: -0.73ex;"><defs><path stroke-width="0" id="E422-MJMATHI-50" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path><path stroke-width="0" id="E422-MJMATHI-69" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path><path stroke-width="0" id="E422-MJMAIN-7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E422-MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E422-MJMATHI-69" x="907" y="-213"></use><use xlink:href="#E422-MJMAIN-7C" x="985" y="0"></use></g></svg></span><script type="math/tex">P_i |</script><span> IsReferenced(</span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.29ex" height="2.429ex" viewBox="0 -783.2 986 1045.7" role="img" focusable="false" style="vertical-align: -0.609ex;"><defs><path stroke-width="0" id="E341-MJMATHI-50" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path><path stroke-width="0" id="E341-MJMATHI-69" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E341-MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E341-MJMATHI-69" x="907" y="-213"></use></g></svg></span><script type="math/tex">P_i</script><span>) == True </span><span>&amp;</span><span>&amp;</span><span> </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.532ex" height="2.792ex" viewBox="0 -835.3 6257 1201.9" role="img" focusable="false" style="vertical-align: -0.851ex;"><defs><path stroke-width="0" id="E564-MJMATHI-69" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path><path stroke-width="0" id="E564-MJMAIN-2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path><path stroke-width="0" id="E564-MJMAIN-5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path><path stroke-width="0" id="E564-MJMATHI-74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path stroke-width="0" id="E564-MJMATHI-70" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path><path stroke-width="0" id="E564-MJMAIN-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path stroke-width="0" id="E564-MJMAIN-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path><path stroke-width="0" id="E564-MJMAIN-394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path><path stroke-width="0" id="E564-MJMAIN-5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E564-MJMATHI-69" x="0" y="0"></use><use xlink:href="#E564-MJMAIN-2208" x="622" y="0"></use><use xlink:href="#E564-MJMAIN-5B" x="1567" y="0"></use><g transform="translate(1845,0)"><use xlink:href="#E564-MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E564-MJMATHI-70" x="510" y="-213"></use></g><use xlink:href="#E564-MJMAIN-2C" x="2662" y="0"></use><g transform="translate(3106,0)"><use xlink:href="#E564-MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E564-MJMATHI-70" x="510" y="-213"></use></g><use xlink:href="#E564-MJMAIN-2212" x="4145" y="0"></use><use xlink:href="#E564-MJMAIN-394" x="5146" y="0"></use><use xlink:href="#E564-MJMAIN-5D" x="5979" y="0"></use></g></svg></span><script type="math/tex">i \in [t_p, t_p-\Delta]</script><span>}</span></li><li><span>A page is in the WS </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.606ex" height="1.703ex" viewBox="0 -627 2413.6 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E515-MJMAIN-27FA" d="M1438 514Q1438 525 1454 525Q1459 525 1462 525T1467 525T1471 524T1473 523T1475 520T1477 517T1480 512Q1517 438 1578 381T1689 300T1785 263Q1802 258 1802 250T1793 239T1756 228T1698 204Q1554 134 1480 -12Q1476 -21 1473 -22T1458 -24Q1438 -24 1438 -17Q1438 -13 1443 0Q1478 69 1529 123L1539 133H318L328 123Q379 69 414 0Q419 -13 419 -17Q419 -24 399 -24Q388 -24 385 -23T377 -12Q332 77 253 144T72 237Q62 240 59 242T56 250T59 257T70 262T89 268T119 278T160 296Q303 366 377 512Q382 522 385 523T401 525Q419 524 419 515Q419 510 414 500Q379 431 328 377L318 367H1539L1529 377Q1496 412 1467 458T1438 514ZM274 173H1583L1593 181Q1632 211 1710 250Q1709 251 1692 259T1647 283T1593 319L1583 327H930L927 328L602 327H274L264 319Q225 289 147 250Q148 249 165 241T210 217T264 181L274 173Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E515-MJMAIN-27FA" x="277" y="0"></use></g></svg></span><script type="math/tex">\iff</script><span> it was referenced in the last </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.935ex" height="1.945ex" viewBox="0 -783.2 833 837.3" role="img" focusable="false" style="vertical-align: -0.126ex;"><defs><path stroke-width="0" id="E332-MJMAIN-394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E332-MJMAIN-394" x="0" y="0"></use></g></svg></span><script type="math/tex">\Delta</script><span> reference</span></li></ul></li><li><p><span>eg</span></p><ul><li><p><span>ref string</span></p><ul><li><span>2 6 1 5 7 7 7 5 1 4 3</span></li></ul></li><li><p><span>Let init time be 0</span></p></li><li><p><span>Assume one ref per second</span></p></li><li><p><span>if </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.897ex" height="2.55ex" viewBox="0 -731.2 816.7 1097.7" role="img" focusable="false" style="vertical-align: -0.851ex;"><defs><path stroke-width="0" id="E302-MJMATHI-74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path stroke-width="0" id="E302-MJMATHI-70" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E302-MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E302-MJMATHI-70" x="510" y="-213"></use></g></svg></span><script type="math/tex">t_p</script><span> = 5, </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.935ex" height="1.945ex" viewBox="0 -783.2 833 837.3" role="img" focusable="false" style="vertical-align: -0.126ex;"><defs><path stroke-width="0" id="E332-MJMAIN-394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E332-MJMAIN-394" x="0" y="0"></use></g></svg></span><script type="math/tex">\Delta</script><span> = 4 </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> WS</span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.865ex" height="2.792ex" viewBox="0 -835.3 2955.7 1201.9" role="img" focusable="false" style="vertical-align: -0.851ex;"><defs><path stroke-width="0" id="E446-MJMAIN-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path stroke-width="0" id="E446-MJMATHI-74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path stroke-width="0" id="E446-MJMATHI-70" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path><path stroke-width="0" id="E446-MJMAIN-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path stroke-width="0" id="E446-MJMAIN-394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path><path stroke-width="0" id="E446-MJMAIN-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E446-MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="#E446-MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E446-MJMATHI-70" x="510" y="-213"></use></g><use xlink:href="#E446-MJMAIN-2C" x="1205" y="0"></use><use xlink:href="#E446-MJMAIN-394" x="1733" y="0"></use><use xlink:href="#E446-MJMAIN-29" x="2566" y="0"></use></g></svg></span><script type="math/tex">(t_p\text{,  }\Delta)</script><span>  = WS</span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.356ex" height="2.671ex" viewBox="0 -835.3 2306 1149.8" role="img" focusable="false" style="vertical-align: -0.73ex;"><defs><path stroke-width="0" id="E556-MJMAIN-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path stroke-width="0" id="E556-MJMAIN-35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path><path stroke-width="0" id="E556-MJMAIN-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path stroke-width="0" id="E556-MJMAIN-34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path><path stroke-width="0" id="E556-MJMAIN-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E556-MJMAIN-28" x="0" y="0"></use><use xlink:href="#E556-MJMAIN-35" x="389" y="0"></use><use xlink:href="#E556-MJMAIN-2C" x="889" y="0"></use><use xlink:href="#E556-MJMAIN-34" x="1417" y="0"></use><use xlink:href="#E556-MJMAIN-29" x="1917" y="0"></use></g></svg></span><script type="math/tex">(5\text{,  }4)</script><span>  = {6, 1, 5, 7} </span></p></li><li><p><span>if </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.897ex" height="2.55ex" viewBox="0 -731.2 816.7 1097.7" role="img" focusable="false" style="vertical-align: -0.851ex;"><defs><path stroke-width="0" id="E302-MJMATHI-74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path stroke-width="0" id="E302-MJMATHI-70" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E302-MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E302-MJMATHI-70" x="510" y="-213"></use></g></svg></span><script type="math/tex">t_p</script><span> = 5, </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.935ex" height="1.945ex" viewBox="0 -783.2 833 837.3" role="img" focusable="false" style="vertical-align: -0.126ex;"><defs><path stroke-width="0" id="E332-MJMAIN-394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E332-MJMAIN-394" x="0" y="0"></use></g></svg></span><script type="math/tex">\Delta</script><span> = 5 </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> WS</span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.865ex" height="2.792ex" viewBox="0 -835.3 2955.7 1201.9" role="img" focusable="false" style="vertical-align: -0.851ex;"><defs><path stroke-width="0" id="E446-MJMAIN-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path stroke-width="0" id="E446-MJMATHI-74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path stroke-width="0" id="E446-MJMATHI-70" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path><path stroke-width="0" id="E446-MJMAIN-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path stroke-width="0" id="E446-MJMAIN-394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path><path stroke-width="0" id="E446-MJMAIN-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E446-MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="#E446-MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E446-MJMATHI-70" x="510" y="-213"></use></g><use xlink:href="#E446-MJMAIN-2C" x="1205" y="0"></use><use xlink:href="#E446-MJMAIN-394" x="1733" y="0"></use><use xlink:href="#E446-MJMAIN-29" x="2566" y="0"></use></g></svg></span><script type="math/tex">(t_p\text{,  }\Delta)</script><span>  = WS</span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.356ex" height="2.671ex" viewBox="0 -835.3 2306 1149.8" role="img" focusable="false" style="vertical-align: -0.73ex;"><defs><path stroke-width="0" id="E556-MJMAIN-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path stroke-width="0" id="E556-MJMAIN-35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path><path stroke-width="0" id="E556-MJMAIN-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path stroke-width="0" id="E556-MJMAIN-34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path><path stroke-width="0" id="E556-MJMAIN-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E556-MJMAIN-28" x="0" y="0"></use><use xlink:href="#E556-MJMAIN-35" x="389" y="0"></use><use xlink:href="#E556-MJMAIN-2C" x="889" y="0"></use><use xlink:href="#E556-MJMAIN-34" x="1417" y="0"></use><use xlink:href="#E556-MJMAIN-29" x="1917" y="0"></use></g></svg></span><script type="math/tex">(5\text{,  }4)</script><span>  = {2, 6, 1, 5, 7} </span></p></li><li><p><span>if </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.897ex" height="2.55ex" viewBox="0 -731.2 816.7 1097.7" role="img" focusable="false" style="vertical-align: -0.851ex;"><defs><path stroke-width="0" id="E302-MJMATHI-74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path stroke-width="0" id="E302-MJMATHI-70" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E302-MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E302-MJMATHI-70" x="510" y="-213"></use></g></svg></span><script type="math/tex">t_p</script><span> = 11, </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.935ex" height="1.945ex" viewBox="0 -783.2 833 837.3" role="img" focusable="false" style="vertical-align: -0.126ex;"><defs><path stroke-width="0" id="E332-MJMAIN-394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E332-MJMAIN-394" x="0" y="0"></use></g></svg></span><script type="math/tex">\Delta</script><span> = 11 </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> WS</span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.865ex" height="2.792ex" viewBox="0 -835.3 2955.7 1201.9" role="img" focusable="false" style="vertical-align: -0.851ex;"><defs><path stroke-width="0" id="E446-MJMAIN-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path stroke-width="0" id="E446-MJMATHI-74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path stroke-width="0" id="E446-MJMATHI-70" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path><path stroke-width="0" id="E446-MJMAIN-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path stroke-width="0" id="E446-MJMAIN-394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path><path stroke-width="0" id="E446-MJMAIN-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E446-MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="#E446-MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E446-MJMATHI-70" x="510" y="-213"></use></g><use xlink:href="#E446-MJMAIN-2C" x="1205" y="0"></use><use xlink:href="#E446-MJMAIN-394" x="1733" y="0"></use><use xlink:href="#E446-MJMAIN-29" x="2566" y="0"></use></g></svg></span><script type="math/tex">(t_p\text{,  }\Delta)</script><span>  = WS</span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.356ex" height="2.671ex" viewBox="0 -835.3 2306 1149.8" role="img" focusable="false" style="vertical-align: -0.73ex;"><defs><path stroke-width="0" id="E556-MJMAIN-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path stroke-width="0" id="E556-MJMAIN-35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path><path stroke-width="0" id="E556-MJMAIN-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path stroke-width="0" id="E556-MJMAIN-34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path><path stroke-width="0" id="E556-MJMAIN-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E556-MJMAIN-28" x="0" y="0"></use><use xlink:href="#E556-MJMAIN-35" x="389" y="0"></use><use xlink:href="#E556-MJMAIN-2C" x="889" y="0"></use><use xlink:href="#E556-MJMAIN-34" x="1417" y="0"></use><use xlink:href="#E556-MJMAIN-29" x="1917" y="0"></use></g></svg></span><script type="math/tex">(5\text{,  }4)</script><span>  = {2, 6, 1, 5, 7, 4, 3} </span></p></li><li><p><span>if </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.897ex" height="2.55ex" viewBox="0 -731.2 816.7 1097.7" role="img" focusable="false" style="vertical-align: -0.851ex;"><defs><path stroke-width="0" id="E302-MJMATHI-74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path stroke-width="0" id="E302-MJMATHI-70" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E302-MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E302-MJMATHI-70" x="510" y="-213"></use></g></svg></span><script type="math/tex">t_p</script><span> = 11, </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.935ex" height="1.945ex" viewBox="0 -783.2 833 837.3" role="img" focusable="false" style="vertical-align: -0.126ex;"><defs><path stroke-width="0" id="E332-MJMAIN-394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E332-MJMAIN-394" x="0" y="0"></use></g></svg></span><script type="math/tex">\Delta</script><span> = 1 </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> WS</span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.865ex" height="2.792ex" viewBox="0 -835.3 2955.7 1201.9" role="img" focusable="false" style="vertical-align: -0.851ex;"><defs><path stroke-width="0" id="E446-MJMAIN-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path stroke-width="0" id="E446-MJMATHI-74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path stroke-width="0" id="E446-MJMATHI-70" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path><path stroke-width="0" id="E446-MJMAIN-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path stroke-width="0" id="E446-MJMAIN-394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path><path stroke-width="0" id="E446-MJMAIN-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E446-MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="#E446-MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E446-MJMATHI-70" x="510" y="-213"></use></g><use xlink:href="#E446-MJMAIN-2C" x="1205" y="0"></use><use xlink:href="#E446-MJMAIN-394" x="1733" y="0"></use><use xlink:href="#E446-MJMAIN-29" x="2566" y="0"></use></g></svg></span><script type="math/tex">(t_p\text{,  }\Delta)</script><span>  = WS</span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.356ex" height="2.671ex" viewBox="0 -835.3 2306 1149.8" role="img" focusable="false" style="vertical-align: -0.73ex;"><defs><path stroke-width="0" id="E556-MJMAIN-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path stroke-width="0" id="E556-MJMAIN-35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path><path stroke-width="0" id="E556-MJMAIN-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path stroke-width="0" id="E556-MJMAIN-34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path><path stroke-width="0" id="E556-MJMAIN-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E556-MJMAIN-28" x="0" y="0"></use><use xlink:href="#E556-MJMAIN-35" x="389" y="0"></use><use xlink:href="#E556-MJMAIN-2C" x="889" y="0"></use><use xlink:href="#E556-MJMAIN-34" x="1417" y="0"></use><use xlink:href="#E556-MJMAIN-29" x="1917" y="0"></use></g></svg></span><script type="math/tex">(5\text{,  }4)</script><span>  = {3} </span></p></li></ul></li></ul></li><li><p><span>Working Set Size</span></p><ul><li><p><span>the number of pages in the WS</span></p></li><li><p><span>aka | WS</span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.865ex" height="2.792ex" viewBox="0 -835.3 2955.7 1201.9" role="img" focusable="false" style="vertical-align: -0.851ex;"><defs><path stroke-width="0" id="E446-MJMAIN-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path stroke-width="0" id="E446-MJMATHI-74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path stroke-width="0" id="E446-MJMATHI-70" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path><path stroke-width="0" id="E446-MJMAIN-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path stroke-width="0" id="E446-MJMAIN-394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path><path stroke-width="0" id="E446-MJMAIN-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E446-MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="#E446-MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E446-MJMATHI-70" x="510" y="-213"></use></g><use xlink:href="#E446-MJMAIN-2C" x="1205" y="0"></use><use xlink:href="#E446-MJMAIN-394" x="1733" y="0"></use><use xlink:href="#E446-MJMAIN-29" x="2566" y="0"></use></g></svg></span><script type="math/tex">(t_p\text{,  }\Delta)</script><span> |</span></p></li><li><p><span>changed with program locality</span></p><ul><li><span>during periods of poor locality </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> reference more pages </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> size </span>&uparrow;</li></ul></li></ul></li><li><p><span>Goal</span></p><ul><li><p><span>WS == { process needs in memory }</span></p><ul><li><span>prevent heavy faulting</span></li><li><span>each process has parameter </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.935ex" height="1.945ex" viewBox="0 -783.2 833 837.3" role="img" focusable="false" style="vertical-align: -0.126ex;"><defs><path stroke-width="0" id="E332-MJMAIN-394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E332-MJMAIN-394" x="0" y="0"></use></g></svg></span><script type="math/tex">\Delta</script><span> = few-fault WS</span></li></ul></li></ul></li><li><p><span>WS Problem</span></p><ol><li><span>how to determin </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.935ex" height="1.945ex" viewBox="0 -783.2 833 837.3" role="img" focusable="false" style="vertical-align: -0.126ex;"><defs><path stroke-width="0" id="E332-MJMAIN-394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E332-MJMAIN-394" x="0" y="0"></use></g></svg></span><script type="math/tex">\Delta</script></li><li><span>how to knoe when the WS changes</span></li></ol><ul><li><p><span>both too hard to answer</span></p><ul><li><span>not in practice as a page replacement</span></li></ul></li></ul></li><li><p><span>Use</span></p><ul><li><p><span>used as an abstraction</span></p><ul><li><span>intuition still valid</span></li><li><span>eg: how much memory does Firfox needed == what is the size of Firfox&#39;s WS</span></li></ul></li><li><p><span>useful approximation in practice</span></p></li></ul></li></ul><p>&nbsp;</p><h3><a name="advanced-functionality-using-vm-tricks" class="md-header-anchor"></a><span>Advanced Functionality Using VM Tricks</span></h3><blockquote><p><span>VA == Virtual Address</span></p><p><span>PT == Page Table</span></p><p><span>PF == Page Frame</span></p><p><span>PTE == Page Table Entry</span></p><p><span>CoW == Copy on Write</span></p><p><span>VM == Virtual Memory</span></p></blockquote><h4><a name="sharing-memory" class="md-header-anchor"></a><span>Sharing Memory</span></h4><ul><li><p><span>Observation</span></p><ul><li><span>private VA space protect app from each other </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> difficult to share data ( have to copy )</span></li></ul></li><li><p><span>Solution</span></p><ul><li><span>use shared memory to allow processes to share data using direct memory references</span></li></ul></li><li><p><span>Implementation Using PT</span></p><ul><li><span>Both PTE in each table  map to the same PF</span></li><li><span>Each PTE  can have different protection value</span></li><li><span>Must update Both PTE when page become invalid</span></li></ul></li><li><p><span>Mapping Shared Rigion</span></p><ul><li><p><span>type 1: map shared mem at </span><strong><span>same</span></strong><span> VA in each process&#39;s addr space</span></p><ul><li><p><span>pro</span></p><ul><li><span>shared pointers are valid (why? same as whole system using one place no protection )</span></li></ul></li><li><p><span>con</span></p><ul><li><span>less flexible</span></li></ul></li></ul></li><li><p><span>type 2: map shared mem at </span><strong><span>different</span></strong><span> VA in each process&#39;s addr space</span></p><ul><li><p><span>pro</span></p><ul><li><span>flexible (no address space conflicts)</span></li></ul></li><li><p><span>con</span></p><ul><li><span>shared pointers are invalid (why? protection!)</span></li></ul></li></ul></li><li><p><span>if a shared segment pointer reference an addr outside the segment </span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.323ex" height="1.703ex" viewBox="0 -627 1000 733.2" role="img" focusable="false" style="vertical-align: -0.247ex;"><defs><path stroke-width="0" id="E33-MJMAIN-21D2" d="M580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJMAIN-21D2" x="0" y="0"></use></g></svg></span><script type="math/tex">\Rightarrow</script><span> segmentation fault</span></p></li></ul></li></ul><p>&nbsp;</p><h4><a name="copy-on-write" class="md-header-anchor"></a><span>Copy On Write</span></h4><ul><li><p><span>Observation</span></p><ul><li><p><span>OS spends a lot of time copying data</span></p><ul><li><span>sysCall arguments between user/kernel space</span></li><li><span>entire addr space to implement </span><code>fork()</code></li></ul></li></ul></li><li><p><span>Solution</span></p><ul><li><p><span>use  CoW to defer large copies as long as possible to avoid them altogether</span></p></li><li><p><span>example with process inheritance</span></p><ul><li><p><span>Implementation</span></p><ul><li><strong><span>create shared</span></strong><span> mappings of parent pages in child virtual address space [instead of cp pages]</span></li><li><span>shared pages are protected as Read-Only in child</span></li></ul></li></ul><ul><li><p><span>sysCall Performance</span></p><ul><li><p><span>reads happen as usual</span></p></li><li><p><span>write generate a protection fault</span></p><ul><li><span>trap to OS</span></li><li><span>cp page</span></li><li><span>change page mapping to client page table</span></li><li><span>restart write instruction</span></li></ul></li></ul></li><li><p><span>help </span><code>fork()</code><span> since no need to write 2 time (write as initial-child + update child)</span></p></li><li><p><span>implemented as Unix </span><code>vfork()</code></p></li></ul></li></ul></li></ul><h4><a name="memory-mapped-files" class="md-header-anchor"></a><span>Memory Mapped Files</span></h4><ul><li><p><span>Contribution</span></p><ul><li><p><span>mapped files enable processes to do file I/O </span></p><ul><li><span>using load and store instruction</span></li><li><span>[ instead of </span><code>open(),  read into buffer, operate on buffer ...</code><span> ]</span></li></ul></li></ul></li><li><p><span>Functionality</span></p><ol><li><p><span>bind a file to a VM region ( i.e. </span><code>mmap()</code><span> in Unix )</span></p><ul><li><p><span>PTE map the VA to PF holding file data</span></p></li><li><p><span>VA base  + N refers to the offset N in the file</span></p><ul><li><span>can read or write at various offsets in file using memory operation</span></li></ul></li></ul></li><li><p><span>Initially all pages mapped to file are invalid</span></p><ul><li><span>OS read a page from file when invalid page is accessed</span></li><li><span>OS write a page to the file when evicted / region unmapped</span></li></ul></li><li><p><span>File is essentially backing store for that region of VA space [ instead of using the swap file ]</span></p><ul><li><span>VA space not backed by real files also called Anonymous VM</span></li></ul></li></ol></li><li><p><span>Advantage</span></p><ul><li><p><span>Uniform access for files and memory </span></p><ul><li><span>just use pointers</span></li></ul></li><li><p><span>Less copying</span></p></li></ul></li><li><p><span>Drawbacks</span></p><ul><li><p><span>Process has less control over data movament</span></p><ul><li><span>OS handles faults transparently</span></li></ul></li><li><p><span>Does not generalized to streamed I/O like pipes / sockets</span></p></li></ul></li></ul></div>
</body>
</html>